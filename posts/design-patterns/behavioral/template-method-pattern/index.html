<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en-us lang=en-us><head><script defer language=javascript type=text/javascript src=/js/bundle.min.aaddf69428b38a6431e3b84a00ae39ccc4f159833076ec8e133fc58eafca6b8e.js></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=/favicon.png><title itemprop=name>Go Sang - Template Method Pattern</title>
<meta property="og:title" content="Go Sang - Template Method Pattern"><meta name=twitter:title content="Go Sang - Template Method Pattern"><meta itemprop=name content="Go Sang - Template Method Pattern"><meta name=application-name content="Go Sang - Template Method Pattern"><meta property="og:site_name" content><meta name=description content><meta itemprop=description content><meta property="og:description" content><meta name=twitter:description content><base href=https://gosang.github.io/posts/design-patterns/behavioral/template-method-pattern/><link rel=canonical href=https://gosang.github.io/posts/design-patterns/behavioral/template-method-pattern/ itemprop=url><meta name=url content="https://gosang.github.io/posts/design-patterns/behavioral/template-method-pattern/"><meta name=twitter:url content="https://gosang.github.io/posts/design-patterns/behavioral/template-method-pattern/"><meta property="og:url" content="https://gosang.github.io/posts/design-patterns/behavioral/template-method-pattern/"><meta property="og:updated_time" content="18004-18-12T424:18:22Z"><link rel=sitemap type=application/xml title=Sitemap href=https://gosang.github.io/sitemap.xml><meta name=robots content="index,follow"><meta name=googlebot content="index,follow"><meta name=twitter:site content><meta name=twitter:creator content><meta property="fb:admins" content><meta name=apple-mobile-web-app-title content><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="black"><meta property="og:type" content="article"><meta property="article:publisher" content><meta property="og:article:published_time" content="18004-18-12T424:18:22Z"><meta property="article:published_time" content="18004-18-12T424:18:22Z"><script defer type=application/ld+json>{"@context":"http://schema.org","@type":"Article","headline":"Template Method Pattern","author":{"@type":"Person","name":"https:\/\/github.com\/gosang"},"datePublished":"2022-04-18","description":"","wordCount":"805","mainEntityOfPage":"True","dateModified":"2022-04-18","image":{"@type":"imageObject","url":""},"publisher":{"@type":"Organization","name":"","logo":{"@type":"imageObject","url":""}}}</script><meta name=generator content="Hugo 0.121.1"><link type=text/css rel=stylesheet href=/css/bundle.min.178e339ccb9acabffeebf9adbb0bb23c1ec0b72a2a50edee18a5007d4d5a68aa.css><style>body{--sidebar-bg-color:#202020;--sidebar-img-border-color:#515151;--sidebar-p-color:#909090;--sidebar-h1-color:#FFF;--sidebar-a-color:#FFF;--sidebar-socials-color:#FFF;--text-color:#222;--bkg-color:#FAF9F6;--post-title-color:#303030;--list-color:#5a5a5a;--link-color:#268bd2;--date-color:#515151;--table-border-color:#E5E5E5;--table-stripe-color:#F9F9F9;--code-color:#bf616a;--code-background-color:#E5E5E5;--moon-sun-color:#FFF;--moon-sun-background-color:#515151}body.dark-theme{--text-color:#eee;--bkg-color:#121212;--post-title-color:#DBE2E9;--list-color:#9d9d9d;--link-color:#268bd2;--date-color:#9a9a9a;--table-border-color:#515151;--table-stripe-color:#202020;--code-color:#ff7f7f;--code-background-color:#393D47}body{background-color:var(--bkg-color)}</style></head><body><div class=wrapper><aside class=sidebar><div class="container sidebar-sticky"><div class=light-dark align=right><button class=btn-light-dark title="Toggle light/dark mode"><svg class="moon" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16"><path fill="currentcolor" d="M6 .278a.768.768.0 01.08.858 7.208 7.208.0 00-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527.0 1.04-.055 1.533-.16a.787.787.0 01.81.316.733.733.0 01-.031.893A8.349 8.349.0 018.344 16C3.734 16 0 12.286.0 7.71.0 4.266 2.114 1.312 5.124.06A.752.752.0 016 .278z"/></svg><svg class="sun" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16"><path fill="currentcolor" d="M8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 0zm0 13a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 13zm8-5a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2a.5.5.0 01.5.5zM3 8a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2A.5.5.0 013 8zm10.657-5.657a.5.5.0 010 .707l-1.414 1.415a.5.5.0 11-.707-.708l1.414-1.414a.5.5.0 01.707.0zm-9.193 9.193a.5.5.0 010 .707L3.05 13.657a.5.5.0 01-.707-.707l1.414-1.414a.5.5.0 01.707.0zm9.193 2.121a.5.5.0 01-.707.0l-1.414-1.414a.5.5.0 01.707-.707l1.414 1.414a.5.5.0 010 .707zM4.464 4.465a.5.5.0 01-.707.0L2.343 3.05a.5.5.0 11.707-.707l1.414 1.414a.5.5.0 010 .708z"/></svg></button></div><div class=sidebar-about><h1 class=brand><a href=https://gosang.github.io/><h1>Go Sang</h1></a></h1><p class=lead>Learning about technology.</p></div><nav><ul class=sidebar-nav><li class=heading><a href=/posts/>Posts</a></li><li class=sub-heading>Recent</li><li class=bullet><a href=https://gosang.github.io/posts/ai/llm/>Large Language Models (LLMs)</a></li><li class=bullet><a href=https://gosang.github.io/posts/design-architectures/modular-monolith-architecture/>Modular Monolith Architecture</a></li><li class=bullet><a href=https://gosang.github.io/posts/design-architectures/domain-driven-design/>Domain Driven Design (DDD)</a></li><li class=bullet><a href=https://gosang.github.io/posts/design-principles/dependency-inversion-principle/>Dependency Inversion Principle (DIP) and Dependency Injection (DI)</a></li><li class=bullet><a href=https://gosang.github.io/posts/design-principles/interface-segregation-principle/>Interface Segregation Principle (ISP)</a></li></ul></nav><a target=_blank class=social title=GitHub href=https://github.com/gosang><svg xmlns="http://www.w3.org/2000/svg" width="1.2em" height="1.2em" viewBox="-2 -2 24 24"><path fill="currentcolor" d="M18.88 1.099C18.147.366 17.265.0 16.233.0H3.746C2.714.0 1.832.366 1.099 1.099.366 1.832.0 2.714.0 3.746v12.487c0 1.032.366 1.914 1.099 2.647.733.733 1.615 1.099 2.647 1.099H6.66c.19.0.333-.007.429-.02a.504.504.0 00.286-.169c.095-.1.143-.245.143-.435l-.007-.885c-.004-.564-.006-1.01-.006-1.34l-.3.052c-.19.035-.43.05-.721.046a5.555 5.555.0 01-.904-.091 2.026 2.026.0 01-.872-.39 1.651 1.651.0 01-.572-.8l-.13-.3a3.25 3.25.0 00-.41-.663c-.186-.243-.375-.407-.566-.494l-.09-.065a.956.956.0 01-.17-.156.723.723.0 01-.117-.182c-.026-.061-.004-.111.065-.15.07-.04.195-.059.378-.059l.26.04c.173.034.388.138.643.311a2.1 2.1.0 01.631.677c.2.355.44.626.722.813.282.186.566.28.852.28.286.0.533-.022.742-.065a2.59 2.59.0 00.585-.196c.078-.58.29-1.028.637-1.34a8.907 8.907.0 01-1.333-.234 5.314 5.314.0 01-1.223-.507 3.5 3.5.0 01-1.047-.872c-.277-.347-.505-.802-.683-1.365-.177-.564-.266-1.215-.266-1.952.0-1.049.342-1.942 1.027-2.68-.32-.788-.29-1.673.091-2.652.252-.079.625-.02 1.119.175.494.195.856.362 1.086.5.23.14.414.257.553.352a9.233 9.233.0 012.497-.338c.859.0 1.691.113 2.498.338l.494-.312a6.997 6.997.0 011.197-.572c.46-.174.81-.221 1.054-.143.39.98.424 1.864.103 2.653.685.737 1.028 1.63 1.028 2.68.0.737-.089 1.39-.267 1.957-.177.568-.407 1.023-.689 1.366a3.65 3.65.0 01-1.053.865c-.42.234-.828.403-1.223.507a8.9 8.9.0 01-1.333.235c.45.39.676 1.005.676 1.846v3.11c0 .147.021.266.065.357a.36.36.0 00.208.189c.096.034.18.056.254.064.074.01.18.013.318.013h2.914c1.032.0 1.914-.366 2.647-1.099.732-.732 1.099-1.615 1.099-2.647V3.746c0-1.032-.367-1.914-1.1-2.647z"/></svg></a><a target=_blank class=social title="RSS Feed" href=https://gosang.github.io//posts/index.xml><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1.2em" viewBox="0 0 1280 1280"><g transform="translate(0.000000,1280.000000) scale(0.100000,-0.100000)" fill="currentcolor"><path d="M2295 11929c-284-12-642-45-707-65-17-5-18-63-18-1039 0-569 4-1036 8-1039 5-3 74 6 153 19 510 86 1168 95 1789 25 1348-153 2602-677 3670-1531 385-308 820-744 1126-1129 842-1060 1362-2313 1514-3650 70-621 61-1279-25-1789-13-79-22-148-19-153 3-4 471-8 1039-8h1035l5 23c51 225 85 942 67 1419-23 605-77 1044-198 1617-294 14e2-927 2734-1823 3846-1043 1295-2364 2259-3909 2854-1158 447-2451 656-3707 6e2z"/><path d="M2255 7845c-269-25-620-81-667-106-17-9-18-55-18-899 0-706 3-890 13-890 6 0 66 18 132 41 130 44 288 79 467 105 154 21 577 30 749 15 1207-107 2267-823 2814-1902 166-327 268-637 330-1001 38-227 48-384 42-662-8-348-44-590-126-831-23-66-41-126-41-132 0-10 184-13 890-13 844 0 890 1 899 18 27 50 88 452 110 725 14 162 14 624 1 782-59 703-233 1323-545 1945-481 956-1313 1788-2270 2268-620 310-1239 483-1940 542-165 14-669 10-840-5z"/><path d="M2519 3815c-391-66-725-336-868-703-79-201-96-462-45-677 83-344 338-641 666-774 116-47 205-69 330-80 412-39 811 153 1040 5e2 193 292 240 648 128 981-135 403-492 699-914 757-1e2 14-241 12-337-4z"/></g></svg></a><p class=footnote>powered by <a target=_blank href=https://gohugo.io>Hugo</a> | themed with <a target=_blank href=https://github.com/lukeorth/poison>poison</a><br>&copy; 2023 . All rights reserved.</p></div></aside><main class="content container"><div class=post><div class=info><h1 class=post-title><a href=https://gosang.github.io/posts/design-patterns/behavioral/template-method-pattern/>Template Method Pattern</a></h1><time datetime=2022-04-18T12:24:18Z class=post-date>April 18, 2022</time><ul class=tags><li class="tag-Design Patterns"><a href=https://gosang.github.io/tags/design-patterns>Design Patterns</a></li><li class="tag-Template Method"><a href=https://gosang.github.io/tags/template-method>Template Method</a></li></ul><p class=seriesname>Series: <a href=https://gosang.github.io/series/behavioral-design-patterns>Behavioral Design Patterns</a></p></div><p>The Template Method Pattern is a fundamental design pattern in software development that provides a framework for defining the structure of an algorithm while allowing specific steps of the algorithm to be implemented by derived classes. In this blog, we will explore the Template Method Pattern in detail, including its rationale, how it&rsquo;s used in C# .NET Core, and its relevance in both microservices and modular monolithic applications. We&rsquo;ll also delve into its advantages and disadvantages, use cases, best practices, and recommendations.</p><h1 id=what-is-the-template-method-pattern>What is the Template Method Pattern?</h1><p>The Template Method Pattern is a behavioral design pattern that defines the skeleton of an algorithm in a method but delegates some of its steps to subclasses. It falls under the category of the &ldquo;Gang of Four&rdquo; design patterns and is widely used to create reusable algorithm frameworks.</p><h1 id=rationale>Rationale</h1><p>The primary goal of the Template Method Pattern is to provide a template or blueprint for an algorithm while allowing specific variations or implementations of certain steps. This pattern promotes code reuse, enhances maintainability, and enforces a consistent structure for algorithms across the application.</p><h1 id=how-the-template-method-pattern-works>How the Template Method Pattern Works</h1><p>Let&rsquo;s dive into the core components of the Template Method Pattern:</p><ul><li><p><strong>Abstract Class</strong>: The pattern starts with the creation of an abstract class that defines the basic structure of the algorithm. This class contains a method (the &ldquo;template method&rdquo;) that outlines the algorithm&rsquo;s steps.</p></li><li><p><strong>Concrete Subclasses</strong>: Subclasses inherit from the abstract class and implement the specific steps of the algorithm. These implementations are then called by the template method.</p></li><li><p><strong>Template Method</strong>: This method defines the overall algorithm and orchestrates the execution by invoking the specific steps. It&rsquo;s often marked as final to prevent subclasses from altering the algorithm&rsquo;s structure.</p></li></ul><h1 id=c-net-core-example>C# .NET Core Example</h1><p>Suppose we&rsquo;re developing a C# .NET Core Web API that interacts with a database using a repository pattern. Here&rsquo;s an example of how the Template Method Pattern can be applied:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>abstract</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Repository</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> Execute()
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        OpenConnection();
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Specific database operations</span>
</span></span><span style=display:flex><span>        CloseConnection();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>abstract</span> <span style=color:#66d9ef>void</span> OpenConnection();
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>abstract</span> <span style=color:#66d9ef>void</span> CloseConnection();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>SqlRepository</span> : Repository
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>void</span> OpenConnection()
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Code to open a SQL connection</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>void</span> CloseConnection()
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Code to close a SQL connection</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MongoRepository</span> : Repository
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>void</span> OpenConnection()
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Code to open a MongoDB connection</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>void</span> CloseConnection()
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Code to close a MongoDB connection</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>In this example, the Repository class defines a template method Execute, while the SqlRepository and MongoRepository subclasses provide specific implementations for opening and closing connections to SQL and MongoDB databases, respectively.</p><h1 id=advantages-and-disadvantages>Advantages and Disadvantages</h1><h2 id=advantages>Advantages</h2><ul><li><strong>Reusability</strong>: The Template Method Pattern promotes code reuse by defining a common algorithm structure.</li><li><strong>Consistency</strong>: It enforces a consistent algorithm structure across subclasses.</li><li><strong>Maintainability</strong>: Changes to the algorithm can be made in one place (the template method) without affecting the subclasses.</li></ul><h2 id=disadvantages>Disadvantages</h2><ul><li><strong>Inflexibility</strong>: The pattern can be inflexible when there&rsquo;s a need for significant variations in the algorithm structure.</li><li><strong>Complexity</strong>: Overusing the Template Method Pattern can lead to overly complex class hierarchies.</li></ul><h1 id=when-to-use-the-template-method-pattern>When to Use the Template Method Pattern</h1><p>The Template Method Pattern is most beneficial in the following scenarios:</p><ul><li><strong>Common Algorithm Structure</strong>: When you have several classes with a shared algorithm structure but different implementations for specific steps.</li><li><strong>Enforcing Consistency</strong>: When you want to enforce a consistent structure for related algorithms.</li><li><strong>Reducing Code Duplication</strong>: To avoid code duplication by centralizing the algorithm&rsquo;s structure.</li></ul><h1 id=use-cases-and-scenarios>Use Cases and Scenarios</h1><ul><li><strong>Database Access</strong>: As shown in our example, database access operations often share a common structure, making the Template Method Pattern useful.</li><li><strong>HTTP Request Handling</strong>: In web applications, handling incoming HTTP requests can follow a common structure with variations in request processing.</li></ul><p><strong>Best Practices</strong></p><ul><li><strong>Keep the Template Method Simple</strong>: The template method should contain only the core algorithm structure, keeping it clean and easy to understand.</li><li><strong>Use Hook Methods Sparingly</strong>: Avoid creating too many hook methods (methods that can be overridden by subclasses) to maintain simplicity.</li><li><strong>Consider Dependency Injection</strong>: When applicable, use dependency injection to provide the specific behavior to the template method.</li></ul><h1 id=conclusion>Conclusion</h1><p>The Template Method Pattern is a valuable tool for creating reusable and consistent algorithm structures. It&rsquo;s particularly useful in scenarios where you want to maintain a clear and predictable structure in your application. By applying this pattern thoughtfully in your C# .NET Core projects, you can enhance code maintainability and reduce duplication, leading to more robust and efficient software.</p><p>For more in-depth information, you can refer to the classic book &ldquo;Design Patterns: Elements of Reusable Object-Oriented Software&rdquo; by Erich Gamma, Richard Helm, Ralph Johnson, and John Vlissides (the &ldquo;Gang of Four&rdquo;). You can also find additional resources on the official <a href=https://docs.microsoft.com/en-us/dotnet/csharp/ target=_blank>C# documentation</a>.</p><p>That&rsquo;s all for our exploration of the Template Method Pattern in C# .NET Core. Happy coding!</p><hr><div class=footer><p>This is a post in the <b><a href=https://gosang.github.io/series/behavioral-design-patterns>Behavioral Design Patterns</a></b> series.<br>Other posts in this series:<ul class=series><li>October 10, 2022 -
<a href=/posts/design-patterns/behavioral/mediator-pattern/>Mediator Pattern</a></li><li>June 7, 2022 -
<a href=/posts/design-patterns/behavioral/observer-pattern/>Observer Pattern</a></li><li>May 28, 2022 -
<a href=/posts/design-patterns/behavioral/state-pattern/>State Pattern</a></li><li>April 25, 2022 -
<a href=/posts/design-patterns/behavioral/strategy-pattern/>Strategy Pattern</a></li><li>April 18, 2022 -
Template Method Pattern</li><li>March 23, 2022 -
<a href=/posts/design-patterns/behavioral/visitor-pattern/>Visitor Pattern</a></li><li>March 1, 2022 -
<a href=/posts/design-patterns/behavioral/chain-of-responsibility-pattern/>Chain of Responsibility Pattern</a></li></ul></p></div></div></main><div class=article-toc><div class=toc-wrapper><h4 id=contents></h4><nav id=TableOfContents><ul><li><a href=#advantages>Advantages</a></li><li><a href=#disadvantages>Disadvantages</a></li></ul></nav></div></div></div></body></html>