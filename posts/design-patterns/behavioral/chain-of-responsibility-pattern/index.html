<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en-us lang=en-us><head><script defer language=javascript type=text/javascript src=/js/bundle.min.11d62625e7495f8147fccf5d08f37bded574a50c4508c235cc666848567d99ab.js></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=/favicon.png><title itemprop=name>Go Sang - Chain of Responsibility Pattern</title><meta property="og:title" content="Go Sang - Chain of Responsibility Pattern"><meta name=twitter:title content="Go Sang - Chain of Responsibility Pattern"><meta itemprop=name content="Go Sang - Chain of Responsibility Pattern"><meta name=application-name content="Go Sang - Chain of Responsibility Pattern"><meta property="og:site_name" content><meta name=description content><meta itemprop=description content><meta property="og:description" content><meta name=twitter:description content><base href=https://gosang.github.io/posts/design-patterns/behavioral/chain-of-responsibility-pattern/><link rel=canonical href=https://gosang.github.io/posts/design-patterns/behavioral/chain-of-responsibility-pattern/ itemprop=url><meta name=url content="https://gosang.github.io/posts/design-patterns/behavioral/chain-of-responsibility-pattern/"><meta name=twitter:url content="https://gosang.github.io/posts/design-patterns/behavioral/chain-of-responsibility-pattern/"><meta property="og:url" content="https://gosang.github.io/posts/design-patterns/behavioral/chain-of-responsibility-pattern/"><meta property="og:updated_time" content="1003-01-12T322:44:22Z"><link rel=sitemap type=application/xml title=Sitemap href=https://gosang.github.io/sitemap.xml><meta name=robots content="index,follow"><meta name=googlebot content="index,follow"><meta name=twitter:site content><meta name=twitter:creator content><meta property="fb:admins" content><meta name=apple-mobile-web-app-title content><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="black"><meta property="og:type" content="article"><meta property="article:publisher" content><meta property="og:article:published_time" content="1003-01-12T322:44:22Z"><meta property="article:published_time" content="1003-01-12T322:44:22Z"><script defer type=application/ld+json>{"@context":"http://schema.org","@type":"Article","headline":"Chain of Responsibility Pattern","author":{"@type":"Person","name":"https:\/\/github.com\/gosang"},"datePublished":"2022-03-01","description":"","wordCount":"999","mainEntityOfPage":"True","dateModified":"2022-03-01","image":{"@type":"imageObject","url":""},"publisher":{"@type":"Organization","name":"","logo":{"@type":"imageObject","url":""}}}</script><meta name=generator content="Hugo 0.119.0"><link type=text/css rel=stylesheet href=/css/bundle.min.178e339ccb9acabffeebf9adbb0bb23c1ec0b72a2a50edee18a5007d4d5a68aa.css><style>body{--sidebar-bg-color:#202020;--sidebar-img-border-color:#515151;--sidebar-p-color:#909090;--sidebar-h1-color:#FFF;--sidebar-a-color:#FFF;--sidebar-socials-color:#FFF;--text-color:#222;--bkg-color:#FAF9F6;--post-title-color:#303030;--list-color:#5a5a5a;--link-color:#268bd2;--date-color:#515151;--table-border-color:#E5E5E5;--table-stripe-color:#F9F9F9;--code-color:#bf616a;--code-background-color:#E5E5E5;--moon-sun-color:#FFF;--moon-sun-background-color:#515151}body.dark-theme{--text-color:#eee;--bkg-color:#121212;--post-title-color:#DBE2E9;--list-color:#9d9d9d;--link-color:#268bd2;--date-color:#9a9a9a;--table-border-color:#515151;--table-stripe-color:#202020;--code-color:#ff7f7f;--code-background-color:#393D47}body{background-color:var(--bkg-color)}</style></head><body><div class=wrapper><aside class=sidebar><div class="container sidebar-sticky"><div class=light-dark align=right><button class=btn-light-dark title="Toggle light/dark mode"><svg class="moon" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16"><path fill="currentcolor" d="M6 .278a.768.768.0 01.08.858 7.208 7.208.0 00-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527.0 1.04-.055 1.533-.16a.787.787.0 01.81.316.733.733.0 01-.031.893A8.349 8.349.0 018.344 16C3.734 16 0 12.286.0 7.71.0 4.266 2.114 1.312 5.124.06A.752.752.0 016 .278z"/></svg><svg class="sun" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16"><path fill="currentcolor" d="M8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 0zm0 13a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 13zm8-5a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2a.5.5.0 01.5.5zM3 8a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2A.5.5.0 013 8zm10.657-5.657a.5.5.0 010 .707l-1.414 1.415a.5.5.0 11-.707-.708l1.414-1.414a.5.5.0 01.707.0zm-9.193 9.193a.5.5.0 010 .707L3.05 13.657a.5.5.0 01-.707-.707l1.414-1.414a.5.5.0 01.707.0zm9.193 2.121a.5.5.0 01-.707.0l-1.414-1.414a.5.5.0 01.707-.707l1.414 1.414a.5.5.0 010 .707zM4.464 4.465a.5.5.0 01-.707.0L2.343 3.05a.5.5.0 11.707-.707l1.414 1.414a.5.5.0 010 .708z"/></svg></button></div><div class=sidebar-about><h1 class=brand><a href=https://gosang.github.io/><h1>Go Sang</h1></a></h1><p class=lead>Learning about technology.</p></div><nav><ul class=sidebar-nav><li class=heading><a href=/posts/>Posts</a></li><li class=sub-heading>Recent</li><li class=bullet><a href=https://gosang.github.io/posts/dotnet/alert-and-monitoring-in-dotnet-core-using-serilog-and-elastic-kibana/>Alert and Monitoring in .NET Core using Serilog and Elastic Kibana</a></li><li class=bullet><a href=https://gosang.github.io/posts/devops/docker/docker-101-creating-database-container/>Docker 101: Creating Database Container</a></li><li class=bullet><a href=https://gosang.github.io/posts/dotnet/document-microservice-with-swagger-in-dotnet-core/>Document Microservice With Swagger in .NET Core</a></li><li class=bullet><a href=https://gosang.github.io/posts/dotnet/understanding-action-func-and-predicate-delegate-types-in-asp.net-core-8/>Understanding the Action, Func and Predicate Delegate Types in ASP.NET Core 8</a></li><li class=bullet><a href=https://gosang.github.io/posts/design-patterns/the-twelve-factor-app-a-modern-approach-to-software-delivery/>The Twelve-Factor App: A Modern Approach to Software Delivery</a></li></ul></nav><a target=_blank class=social title=GitHub href=https://github.com/gosang><svg xmlns="http://www.w3.org/2000/svg" width="1.2em" height="1.2em" viewBox="-2 -2 24 24"><path fill="currentcolor" d="M18.88 1.099C18.147.366 17.265.0 16.233.0H3.746C2.714.0 1.832.366 1.099 1.099.366 1.832.0 2.714.0 3.746v12.487c0 1.032.366 1.914 1.099 2.647.733.733 1.615 1.099 2.647 1.099H6.66c.19.0.333-.007.429-.02a.504.504.0 00.286-.169c.095-.1.143-.245.143-.435l-.007-.885c-.004-.564-.006-1.01-.006-1.34l-.3.052c-.19.035-.43.05-.721.046a5.555 5.555.0 01-.904-.091 2.026 2.026.0 01-.872-.39 1.651 1.651.0 01-.572-.8l-.13-.3a3.25 3.25.0 00-.41-.663c-.186-.243-.375-.407-.566-.494l-.09-.065a.956.956.0 01-.17-.156.723.723.0 01-.117-.182c-.026-.061-.004-.111.065-.15.07-.04.195-.059.378-.059l.26.04c.173.034.388.138.643.311a2.1 2.1.0 01.631.677c.2.355.44.626.722.813.282.186.566.28.852.28.286.0.533-.022.742-.065a2.59 2.59.0 00.585-.196c.078-.58.29-1.028.637-1.34a8.907 8.907.0 01-1.333-.234 5.314 5.314.0 01-1.223-.507 3.5 3.5.0 01-1.047-.872c-.277-.347-.505-.802-.683-1.365-.177-.564-.266-1.215-.266-1.952.0-1.049.342-1.942 1.027-2.68-.32-.788-.29-1.673.091-2.652.252-.079.625-.02 1.119.175.494.195.856.362 1.086.5.23.14.414.257.553.352a9.233 9.233.0 012.497-.338c.859.0 1.691.113 2.498.338l.494-.312a6.997 6.997.0 011.197-.572c.46-.174.81-.221 1.054-.143.39.98.424 1.864.103 2.653.685.737 1.028 1.63 1.028 2.68.0.737-.089 1.39-.267 1.957-.177.568-.407 1.023-.689 1.366a3.65 3.65.0 01-1.053.865c-.42.234-.828.403-1.223.507a8.9 8.9.0 01-1.333.235c.45.39.676 1.005.676 1.846v3.11c0 .147.021.266.065.357a.36.36.0 00.208.189c.096.034.18.056.254.064.074.01.18.013.318.013h2.914c1.032.0 1.914-.366 2.647-1.099.732-.732 1.099-1.615 1.099-2.647V3.746c0-1.032-.367-1.914-1.1-2.647z"/></svg></a><a target=_blank class=social title="RSS Feed" href=https://gosang.github.io//posts/index.xml><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1.2em" viewBox="0 0 1280 1280"><g transform="translate(0.000000,1280.000000) scale(0.100000,-0.100000)" fill="currentcolor"><path d="M2295 11929c-284-12-642-45-707-65-17-5-18-63-18-1039 0-569 4-1036 8-1039 5-3 74 6 153 19 510 86 1168 95 1789 25 1348-153 2602-677 3670-1531 385-308 820-744 1126-1129 842-1060 1362-2313 1514-3650 70-621 61-1279-25-1789-13-79-22-148-19-153 3-4 471-8 1039-8h1035l5 23c51 225 85 942 67 1419-23 605-77 1044-198 1617-294 14e2-927 2734-1823 3846-1043 1295-2364 2259-3909 2854-1158 447-2451 656-3707 6e2z"/><path d="M2255 7845c-269-25-620-81-667-106-17-9-18-55-18-899 0-706 3-890 13-890 6 0 66 18 132 41 130 44 288 79 467 105 154 21 577 30 749 15 1207-107 2267-823 2814-1902 166-327 268-637 330-1001 38-227 48-384 42-662-8-348-44-590-126-831-23-66-41-126-41-132 0-10 184-13 890-13 844 0 890 1 899 18 27 50 88 452 110 725 14 162 14 624 1 782-59 703-233 1323-545 1945-481 956-1313 1788-2270 2268-620 310-1239 483-1940 542-165 14-669 10-840-5z"/><path d="M2519 3815c-391-66-725-336-868-703-79-201-96-462-45-677 83-344 338-641 666-774 116-47 205-69 330-80 412-39 811 153 1040 5e2 193 292 240 648 128 981-135 403-492 699-914 757-1e2 14-241 12-337-4z"/></g></svg></a><p class=footnote>powered by <a target=_blank href=https://gohugo.io>Hugo</a> | themed with <a target=_blank href=https://github.com/lukeorth/poison>poison</a><br>&copy; 2024 . All rights reserved.</p></div></aside><main class="content container"><div class=post><div class=info><h1 class=post-title><a href=https://gosang.github.io/posts/design-patterns/behavioral/chain-of-responsibility-pattern/>Chain of Responsibility Pattern</a></h1><time datetime=2022-03-01T12:22:44Z class=post-date>March 1, 2022</time><ul class=tags><li class="tag-Design Patterns"><a href=https://gosang.github.io/tags/design-patterns>Design Patterns</a></li><li class="tag-Chain of Responsibility"><a href=https://gosang.github.io/tags/chain-of-responsibility>Chain of Responsibility</a></li></ul><p class=seriesname>Series: <a href=https://gosang.github.io/series/behavioral-design-patterns>Behavioral Design Patterns</a></p></div><p>The Chain of Responsibility Pattern is a behavioral design pattern that allows you to pass requests along a chain of handlers. Each handler can choose to process the request or pass it to the next handler in the chain. This pattern promotes loose coupling between the sender and receiver of a request, making it a powerful tool in building extensible and maintainable software systems. In this blog, we will explore what the Chain of Responsibility Pattern is, its rationale, how it can be used in C# .NET Core, and its relevance in the context of microservices or modular monolithic applications.</p><h1 id=the-chain-of-responsibility-pattern>The Chain of Responsibility Pattern</h1><h2 id=rationale>Rationale</h2><p>The Chain of Responsibility Pattern is used when you have a chain of objects that can handle a request, and you want to decouple the sender of the request from the receivers. This pattern provides a way to pass a request along a chain of handlers, and each handler decides whether to process the request or pass it to the next handler in the chain. It is particularly useful when the system needs to process requests in a specific order or when you want to add or remove handlers without affecting the client code.</p><h2 id=problems-it-resolves>Problems it Resolves</h2><ul><li><p><strong>Eliminating Tight Coupling</strong>: By allowing a request to pass through multiple handlers, the Chain of Responsibility Pattern eliminates the need for the sender to be aware of the specific receiver. This promotes loose coupling and better separation of concerns.</p></li><li><p><strong>Dynamic Handler Selection</strong>: Handlers can be added or removed at runtime, making it easy to modify the behavior of the system without changing the client code.</p></li><li><p><strong>Complex Request Processing</strong>: When a request requires different types of processing, it can be split into multiple handlers, each responsible for a specific aspect of the processing.</p></li></ul><h1 id=how-it-is-used>How it is Used</h1><p>The Chain of Responsibility Pattern involves a chain of handler objects. Each handler has a reference to the next handler in the chain. When a request is made, it is passed through the chain of handlers, and each handler can choose to process it or pass it to the next handler.</p><p>Here&rsquo;s a simple example of the Chain of Responsibility Pattern in C# .NET Core using a hypothetical scenario of processing purchase orders:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>abstract</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>PurchaseHandler</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> PurchaseHandler successor;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> SetSuccessor(PurchaseHandler successor)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.successor = successor;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>abstract</span> <span style=color:#66d9ef>void</span> ProcessRequest(Purchase purchase);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Purchase</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>double</span> Amount { <span style=color:#66d9ef>get</span>; <span style=color:#66d9ef>set</span>; }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>string</span> Purpose { <span style=color:#66d9ef>get</span>; <span style=color:#66d9ef>set</span>; }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>In this example, PurchaseHandler is an abstract class for handlers, and Purchase is the request to be processed. Concrete handler classes would inherit from PurchaseHandler and implement the ProcessRequest method.</p><p>The client code would create a chain of handlers and pass the purchase request to the first handler in the chain. Each handler can decide whether to process the request or pass it to the next handler.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#66d9ef>var</span> purchase = <span style=color:#66d9ef>new</span> Purchase { Amount = <span style=color:#ae81ff>500</span>, Purpose = <span style=color:#e6db74>&#34;Office Supplies&#34;</span> };
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> manager = <span style=color:#66d9ef>new</span> ManagerHandler();
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> director = <span style=color:#66d9ef>new</span> DirectorHandler();
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> ceo = <span style=color:#66d9ef>new</span> CEOHandler();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>manager.SetSuccessor(director);
</span></span><span style=display:flex><span>director.SetSuccessor(ceo);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>manager.ProcessRequest(purchase);
</span></span></code></pre></div><h1 id=advantages-and-disadvantages>Advantages and Disadvantages</h1><h2 id=advantages>Advantages</h2><ul><li><strong>Flexibility</strong>: Handlers can be added or removed without modifying the client code, making the system more flexible and extensible.</li><li><strong>Decoupling</strong>: The sender of the request is decoupled from the receivers, promoting a clean separation of concerns.</li><li><strong>Complex Logic</strong>: It&rsquo;s useful when the processing logic is complex and needs to be split into multiple parts.</li></ul><h2 id=disadvantages>Disadvantages</h2><ul><li><strong>No Guarantee of Handling</strong>: There&rsquo;s no guarantee that a request will be handled, and it can reach the end of the chain without processing.</li><li><strong>Performance Overhead</strong>: Passing a request through multiple handlers can introduce performance overhead.</li></ul><h1 id=when-to-use-the-chain-of-responsibility-pattern>When to Use the Chain of Responsibility Pattern</h1><p>The Chain of Responsibility Pattern is best suited for scenarios where:</p><ul><li>You have multiple objects that can handle a request, and the handler needs to be determined dynamically.</li><li>You want to avoid coupling the sender and receiver of the request.</li><li>You need to perform multiple, sequential processing steps on a request.</li><li>You want to add or remove handlers without modifying the client code.</li></ul><h2 id=use-cases-and-scenarios>Use Cases and Scenarios</h2><h3 id=microservices>Microservices</h3><p>In a microservices architecture, the Chain of Responsibility Pattern can be applied to handle requests at different levels of the microservices stack. For example, authentication and authorization can be implemented as a chain of responsibility, where each microservice in the stack checks for permissions and passes the request to the next microservice if necessary.</p><h3 id=modular-monolithic-applications>Modular Monolithic Applications</h3><p>In modular monolithic applications, the pattern can be used to handle complex user input validation. Each module can have a responsibility in processing and validating specific aspects of the input data.</p><h1 id=best-practices>Best Practices</h1><ul><li><p><strong>Keep Handlers Simple</strong>: Each handler should have a single responsibility, making the system more maintainable.</p></li><li><p><strong>Ensure Proper Order</strong>: Define a clear order for the handlers in the chain to ensure that requests are processed correctly.</p></li><li><p><strong>Use Default Handlers</strong>: Consider having a default handler at the end of the chain to handle requests that no other handler can process.</p></li><li><p><strong>Error Handling</strong>: Implement error handling and logging to ensure that failures are properly managed.</p></li><li><p><strong>Documentation</strong>: Document the chain and the responsibilities of each handler to make it easier for developers to work with the pattern.</p></li></ul><h1 id=conclusion>Conclusion</h1><p>The Chain of Responsibility Pattern is a valuable tool in software design, enabling flexible and decoupled handling of requests. Whether you are building microservices or working in a modular monolithic environment, understanding and implementing this pattern can lead to more maintainable and extensible software systems. Remember to use it when you have multiple handlers, dynamic routing, and a need for loose coupling between components.</p><p><strong>Disclaimer</strong>: The code examples in this blog are simplified for illustrative purposes and may not cover all edge cases or best practices in a production application. It&rsquo;s essential to adapt the pattern to your specific project&rsquo;s needs and requirements.</p><h1 id=references>References:</h1><ul><li><a href=https://www.amazon.com/Design-Patterns-Elements-Reusable-Object-Oriented/dp/0201633612 target=_blank>Design Patterns: Elements of Reusable Object-Oriented Software</a> by Erich Gamma, Richard Helm, Ralph Johnson, and John Vlissides.</li><li><a href=https://www.dofactory.com/net/chain-of-responsibility-design-pattern target=_blank>C# Design Patterns: The Chain of Responsibility Pattern by DoFactory</a>.</li></ul><hr><div class=footer><p>This is a post in the <b><a href=https://gosang.github.io/series/behavioral-design-patterns>Behavioral Design Patterns</a></b> series.<br>Other posts in this series:<ul class=series><li>October 10, 2022 -
<a href=/posts/design-patterns/behavioral/mediator-pattern/>Mediator Pattern</a></li><li>March 1, 2022 -
Chain of Responsibility Pattern</li><li>November 25, 2021 -
<a href=/posts/design-patterns/behavioral/strategy-pattern/>Strategy Pattern</a></li><li>October 13, 2021 -
<a href=/posts/design-patterns/behavioral/observer-pattern/>Observer Pattern</a></li><li>March 13, 2021 -
<a href=/posts/design-patterns/behavioral/visitor-pattern/>Visitor Pattern</a></li><li>October 8, 2020 -
<a href=/posts/design-patterns/behavioral/state-pattern/>State Pattern</a></li><li>May 23, 2020 -
<a href=/posts/design-patterns/behavioral/template-method-pattern/>Template Method Pattern</a></li></ul></p></div></div></main><div class=article-toc><div class=toc-wrapper><h4 id=contents></h4><nav id=TableOfContents><ul><li><a href=#rationale>Rationale</a></li><li><a href=#problems-it-resolves>Problems it Resolves</a></li></ul><ul><li><a href=#advantages>Advantages</a></li><li><a href=#disadvantages>Disadvantages</a></li></ul><ul><li><a href=#use-cases-and-scenarios>Use Cases and Scenarios</a><ul><li><a href=#microservices>Microservices</a></li><li><a href=#modular-monolithic-applications>Modular Monolithic Applications</a></li></ul></li></ul></nav></div></div></div></body></html>