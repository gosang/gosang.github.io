<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en-us lang=en-us><head><script defer language=javascript type=text/javascript src=/js/bundle.min.11d62625e7495f8147fccf5d08f37bded574a50c4508c235cc666848567d99ab.js></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=/favicon.png><title itemprop=name>Go Sang - Using Hangfire with ASP.NET Core and Worker Services</title><meta property="og:title" content="Go Sang - Using Hangfire with ASP.NET Core and Worker Services"><meta name=twitter:title content="Go Sang - Using Hangfire with ASP.NET Core and Worker Services"><meta itemprop=name content="Go Sang - Using Hangfire with ASP.NET Core and Worker Services"><meta name=application-name content="Go Sang - Using Hangfire with ASP.NET Core and Worker Services"><meta property="og:site_name" content><meta name=description content><meta itemprop=description content><meta property="og:description" content><meta name=twitter:description content><base href=https://gosang.github.io/posts/dotnet/using-hangfire-with-asp-dotnet-core-and-worker-services/><link rel=canonical href=https://gosang.github.io/posts/dotnet/using-hangfire-with-asp-dotnet-core-and-worker-services/ itemprop=url><meta name=url content="https://gosang.github.io/posts/dotnet/using-hangfire-with-asp-dotnet-core-and-worker-services/"><meta name=twitter:url content="https://gosang.github.io/posts/dotnet/using-hangfire-with-asp-dotnet-core-and-worker-services/"><meta property="og:url" content="https://gosang.github.io/posts/dotnet/using-hangfire-with-asp-dotnet-core-and-worker-services/"><meta property="og:updated_time" content="15007-15-11T75:40:24+0100"><link rel=sitemap type=application/xml title=Sitemap href=https://gosang.github.io/sitemap.xml><meta name=robots content="index,follow"><meta name=googlebot content="index,follow"><meta name=twitter:site content><meta name=twitter:creator content><meta property="fb:admins" content><meta name=apple-mobile-web-app-title content><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="black"><meta property="og:type" content="article"><meta property="article:publisher" content><meta property="og:article:published_time" content="15007-15-11T75:40:24+0100"><meta property="article:published_time" content="15007-15-11T75:40:24+0100"><script defer type=application/ld+json>{"@context":"http://schema.org","@type":"Article","headline":"Using Hangfire with ASP.NET Core and Worker Services","author":{"@type":"Person","name":"https:\/\/github.com\/gosang"},"datePublished":"2024-07-15","description":"","wordCount":"722","mainEntityOfPage":"True","dateModified":"2024-07-15","image":{"@type":"imageObject","url":""},"publisher":{"@type":"Organization","name":"","logo":{"@type":"imageObject","url":""}}}</script><meta name=generator content="Hugo 0.119.0"><link type=text/css rel=stylesheet href=/css/bundle.min.178e339ccb9acabffeebf9adbb0bb23c1ec0b72a2a50edee18a5007d4d5a68aa.css><style>body{--sidebar-bg-color:#202020;--sidebar-img-border-color:#515151;--sidebar-p-color:#909090;--sidebar-h1-color:#FFF;--sidebar-a-color:#FFF;--sidebar-socials-color:#FFF;--text-color:#222;--bkg-color:#FAF9F6;--post-title-color:#303030;--list-color:#5a5a5a;--link-color:#268bd2;--date-color:#515151;--table-border-color:#E5E5E5;--table-stripe-color:#F9F9F9;--code-color:#bf616a;--code-background-color:#E5E5E5;--moon-sun-color:#FFF;--moon-sun-background-color:#515151}body.dark-theme{--text-color:#eee;--bkg-color:#121212;--post-title-color:#DBE2E9;--list-color:#9d9d9d;--link-color:#268bd2;--date-color:#9a9a9a;--table-border-color:#515151;--table-stripe-color:#202020;--code-color:#ff7f7f;--code-background-color:#393D47}body{background-color:var(--bkg-color)}</style></head><body><div class=wrapper><aside class=sidebar><div class="container sidebar-sticky"><div class=light-dark align=right><button class=btn-light-dark title="Toggle light/dark mode"><svg class="moon" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16"><path fill="currentcolor" d="M6 .278a.768.768.0 01.08.858 7.208 7.208.0 00-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527.0 1.04-.055 1.533-.16a.787.787.0 01.81.316.733.733.0 01-.031.893A8.349 8.349.0 018.344 16C3.734 16 0 12.286.0 7.71.0 4.266 2.114 1.312 5.124.06A.752.752.0 016 .278z"/></svg><svg class="sun" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16"><path fill="currentcolor" d="M8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 0zm0 13a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 13zm8-5a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2a.5.5.0 01.5.5zM3 8a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2A.5.5.0 013 8zm10.657-5.657a.5.5.0 010 .707l-1.414 1.415a.5.5.0 11-.707-.708l1.414-1.414a.5.5.0 01.707.0zm-9.193 9.193a.5.5.0 010 .707L3.05 13.657a.5.5.0 01-.707-.707l1.414-1.414a.5.5.0 01.707.0zm9.193 2.121a.5.5.0 01-.707.0l-1.414-1.414a.5.5.0 01.707-.707l1.414 1.414a.5.5.0 010 .707zM4.464 4.465a.5.5.0 01-.707.0L2.343 3.05a.5.5.0 11.707-.707l1.414 1.414a.5.5.0 010 .708z"/></svg></button></div><div class=sidebar-about><h1 class=brand><a href=https://gosang.github.io/><h1>Go Sang</h1></a></h1><p class=lead>Learning about technology.</p></div><nav><ul class=sidebar-nav><li class=heading><a href=/posts/>Posts</a></li><li class=sub-heading>Recent</li><li class=bullet><a href=https://gosang.github.io/posts/dotnet/implementing-minimal-api-with-asp-dotnet-core-using-pepr/>Implementing Minimal API With ASP.NET Core Using Request Endpoint Response</a></li><li class=bullet><a href=https://gosang.github.io/posts/dotnet/implementing-notification-service-with-aws-sns-in-asp-dotnet-core/>Implementing Notification Service with Amazon SNS in ASP.NET Core 8 API</a></li><li class=bullet><a href=https://gosang.github.io/posts/dotnet/simplifying-object-oriented-programming-in-asp-dotnet-core/>Simplifying Object-Oriented Programming in ASP.NET Core with C#</a></li><li class=bullet><a href=https://gosang.github.io/posts/dotnet/implementing-amazon-sqs-with-asp-dotnet-core/>Implementing Amazon SQS with ASP.NET Core 8 API</a></li><li class=bullet><a href=https://gosang.github.io/posts/dotnet/sending-emails-in-asp-dotnet-core-with-aws-simple-email-service/>Sending Emails in ASP.NET Core With AWS Simple Email Service (SES)</a></li></ul></nav><a target=_blank class=social title=GitHub href=https://github.com/gosang><svg xmlns="http://www.w3.org/2000/svg" width="1.2em" height="1.2em" viewBox="-2 -2 24 24"><path fill="currentcolor" d="M18.88 1.099C18.147.366 17.265.0 16.233.0H3.746C2.714.0 1.832.366 1.099 1.099.366 1.832.0 2.714.0 3.746v12.487c0 1.032.366 1.914 1.099 2.647.733.733 1.615 1.099 2.647 1.099H6.66c.19.0.333-.007.429-.02a.504.504.0 00.286-.169c.095-.1.143-.245.143-.435l-.007-.885c-.004-.564-.006-1.01-.006-1.34l-.3.052c-.19.035-.43.05-.721.046a5.555 5.555.0 01-.904-.091 2.026 2.026.0 01-.872-.39 1.651 1.651.0 01-.572-.8l-.13-.3a3.25 3.25.0 00-.41-.663c-.186-.243-.375-.407-.566-.494l-.09-.065a.956.956.0 01-.17-.156.723.723.0 01-.117-.182c-.026-.061-.004-.111.065-.15.07-.04.195-.059.378-.059l.26.04c.173.034.388.138.643.311a2.1 2.1.0 01.631.677c.2.355.44.626.722.813.282.186.566.28.852.28.286.0.533-.022.742-.065a2.59 2.59.0 00.585-.196c.078-.58.29-1.028.637-1.34a8.907 8.907.0 01-1.333-.234 5.314 5.314.0 01-1.223-.507 3.5 3.5.0 01-1.047-.872c-.277-.347-.505-.802-.683-1.365-.177-.564-.266-1.215-.266-1.952.0-1.049.342-1.942 1.027-2.68-.32-.788-.29-1.673.091-2.652.252-.079.625-.02 1.119.175.494.195.856.362 1.086.5.23.14.414.257.553.352a9.233 9.233.0 012.497-.338c.859.0 1.691.113 2.498.338l.494-.312a6.997 6.997.0 011.197-.572c.46-.174.81-.221 1.054-.143.39.98.424 1.864.103 2.653.685.737 1.028 1.63 1.028 2.68.0.737-.089 1.39-.267 1.957-.177.568-.407 1.023-.689 1.366a3.65 3.65.0 01-1.053.865c-.42.234-.828.403-1.223.507a8.9 8.9.0 01-1.333.235c.45.39.676 1.005.676 1.846v3.11c0 .147.021.266.065.357a.36.36.0 00.208.189c.096.034.18.056.254.064.074.01.18.013.318.013h2.914c1.032.0 1.914-.366 2.647-1.099.732-.732 1.099-1.615 1.099-2.647V3.746c0-1.032-.367-1.914-1.1-2.647z"/></svg></a><a target=_blank class=social title="RSS Feed" href=https://gosang.github.io//posts/index.xml><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1.2em" viewBox="0 0 1280 1280"><g transform="translate(0.000000,1280.000000) scale(0.100000,-0.100000)" fill="currentcolor"><path d="M2295 11929c-284-12-642-45-707-65-17-5-18-63-18-1039 0-569 4-1036 8-1039 5-3 74 6 153 19 510 86 1168 95 1789 25 1348-153 2602-677 3670-1531 385-308 820-744 1126-1129 842-1060 1362-2313 1514-3650 70-621 61-1279-25-1789-13-79-22-148-19-153 3-4 471-8 1039-8h1035l5 23c51 225 85 942 67 1419-23 605-77 1044-198 1617-294 14e2-927 2734-1823 3846-1043 1295-2364 2259-3909 2854-1158 447-2451 656-3707 6e2z"/><path d="M2255 7845c-269-25-620-81-667-106-17-9-18-55-18-899 0-706 3-890 13-890 6 0 66 18 132 41 130 44 288 79 467 105 154 21 577 30 749 15 1207-107 2267-823 2814-1902 166-327 268-637 330-1001 38-227 48-384 42-662-8-348-44-590-126-831-23-66-41-126-41-132 0-10 184-13 890-13 844 0 890 1 899 18 27 50 88 452 110 725 14 162 14 624 1 782-59 703-233 1323-545 1945-481 956-1313 1788-2270 2268-620 310-1239 483-1940 542-165 14-669 10-840-5z"/><path d="M2519 3815c-391-66-725-336-868-703-79-201-96-462-45-677 83-344 338-641 666-774 116-47 205-69 330-80 412-39 811 153 1040 5e2 193 292 240 648 128 981-135 403-492 699-914 757-1e2 14-241 12-337-4z"/></g></svg></a><p class=footnote>powered by <a target=_blank href=https://gohugo.io>Hugo</a> | themed with <a target=_blank href=https://github.com/lukeorth/poison>poison</a><br>&copy; 2024 . All rights reserved.</p></div></aside><main class="content container"><div class=post><div class=info><h1 class=post-title><a href=https://gosang.github.io/posts/dotnet/using-hangfire-with-asp-dotnet-core-and-worker-services/>Using Hangfire with ASP.NET Core and Worker Services</a></h1><time datetime=2024-07-15T11:05:40+0100 class=post-date>July 15, 2024</time><ul class=tags><li class="tag-.NET Core"><a href=https://gosang.github.io/tags/.net-core>.NET Core</a></li><li class=tag-Scheduling><a href=https://gosang.github.io/tags/scheduling>Scheduling</a></li></ul></div><p>In modern web development, background tasks are essential for offloading time-consuming operations, such as sending emails, processing files, or performing scheduled maintenance. Hangfire is a robust library for handling background jobs in .NET applications. This blog will look into using Hangfire with ASP.NET Core and worker services, covering its concepts, implementation, and best practices.</p><h1 id=what-is-hangfire>What is Hangfire?</h1><p>Hangfire is an open-source library that simplifies the creation and management of background jobs in .NET applications. It allows you to perform fire-and-forget, delayed, recurring, and continuation tasks with ease.</p><h2 id=main-concepts>Main Concepts</h2><ul><li><strong>Background Jobs</strong>: Tasks that run in the background, such as sending emails or processing files.</li><li><strong>Recurring Jobs</strong>: Jobs that run on a scheduled basis, like cron jobs.</li><li><strong>Delayed Jobs</strong>: Jobs that are scheduled to run after a specific delay.</li><li><strong>Continuation Jobs</strong>: Jobs that are triggered after the completion of a parent job.</li></ul><h2 id=why-use-hangfire>Why Use Hangfire?</h2><ul><li><strong>Easy Integration</strong>: Hangfire integrates seamlessly with ASP.NET Core applications.</li><li><strong>Persistent Storage</strong>: It uses a variety of storage options like SQL Server, Redis, and more, ensuring job persistence.</li><li><strong>Dashboard</strong>: A built-in dashboard for monitoring job execution and status.</li><li><strong>Scalability</strong>: Supports distributed systems and can scale horizontally.</li></ul><p>On the other hand, it brings:</p><ul><li><strong>Resource Intensive</strong>: Requires a database for storing jobs, which can add overhead.</li><li><strong>Complexity</strong>: May introduce complexity for simple background tasks that do not require persistent storage or monitoring.</li></ul><h1 id=implementing-hangfire-with-aspnet-core-and-worker-services>Implementing Hangfire with ASP.NET Core and Worker Services</h1><h2 id=prerequisites>Prerequisites</h2><ul><li>.NET Core SDK (version 8.0 or later)</li><li>An ASP.NET Core project</li></ul><h2 id=step-by-step-implementation>Step-by-Step Implementation</h2><h3 id=1-install-hangfire-nuget-package>1. Install Hangfire NuGet Package</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>dotnet add package Hangfire
</span></span><span style=display:flex><span>dotnet add package Hangfire.AspNetCore
</span></span></code></pre></div><h3 id=2-configure-hangfire-in-startupcs>2. Configure Hangfire in Startup.cs</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#66d9ef>using</span> Hangfire;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> Hangfire.SqlServer;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Startup</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> ConfigureServices(IServiceCollection services)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Add Hangfire services</span>
</span></span><span style=display:flex><span>        services.AddHangfire(configuration =&gt; configuration
</span></span><span style=display:flex><span>            .SetDataCompatibilityLevel(CompatibilityLevel.Version_170)
</span></span><span style=display:flex><span>            .UseSimpleAssemblyNameTypeSerializer()
</span></span><span style=display:flex><span>            .UseRecommendedSerializerSettings()
</span></span><span style=display:flex><span>            .UseSqlServerStorage(Configuration.GetConnectionString(<span style=color:#e6db74>&#34;HangfireConnection&#34;</span>), <span style=color:#66d9ef>new</span> SqlServerStorageOptions
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                CommandBatchMaxTimeout = TimeSpan.FromMinutes(<span style=color:#ae81ff>5</span>),
</span></span><span style=display:flex><span>                SlidingInvisibilityTimeout = TimeSpan.FromMinutes(<span style=color:#ae81ff>5</span>),
</span></span><span style=display:flex><span>                QueuePollInterval = TimeSpan.Zero,
</span></span><span style=display:flex><span>                UseRecommendedIsolationLevel = <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>                UsePageLocksOnDequeue = <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>                DisableGlobalLocks = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>            }));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Add the processing server as IHostedService</span>
</span></span><span style=display:flex><span>        services.AddHangfireServer();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> Configure(IApplicationBuilder app, IBackgroundJobClient backgroundJobs, IRecurringJobManager recurringJobs)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        app.UseRouting();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        app.UseEndpoints(endpoints =&gt;
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            endpoints.MapControllers();
</span></span><span style=display:flex><span>            endpoints.MapHangfireDashboard();
</span></span><span style=display:flex><span>        });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        backgroundJobs.Enqueue(() =&gt; Console.WriteLine(<span style=color:#e6db74>&#34;Hello, Hangfire!&#34;</span>));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=3-create-a-worker-service>3. Create a Worker Service</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>BackgroundWorker</span> : BackgroundService
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>readonly</span> IBackgroundJobClient _backgroundJobClient;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>readonly</span> IRecurringJobManager _recurringJobManager;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> BackgroundWorker(IBackgroundJobClient backgroundJobClient, IRecurringJobManager recurringJobManager)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        _backgroundJobClient = backgroundJobClient;
</span></span><span style=display:flex><span>        _recurringJobManager = recurringJobManager;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>async</span> Task ExecuteAsync(CancellationToken stoppingToken)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Example of a fire-and-forget job</span>
</span></span><span style=display:flex><span>        _backgroundJobClient.Enqueue(() =&gt; SendEmail());
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Example of a recurring job</span>
</span></span><span style=display:flex><span>        _recurringJobManager.AddOrUpdate(<span style=color:#e6db74>&#34;daily-job&#34;</span>, () =&gt; PerformDailyTask(), Cron.Daily);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>await</span> Task.CompletedTask;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> SendEmail()
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Logic for sending an email</span>
</span></span><span style=display:flex><span>        Console.WriteLine(<span style=color:#e6db74>&#34;Sending email...&#34;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> PerformDailyTask()
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Logic for a daily task</span>
</span></span><span style=display:flex><span>        Console.WriteLine(<span style=color:#e6db74>&#34;Performing daily task...&#34;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=4-register-the-worker-service>4. Register the Worker Service</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Program</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> Main(<span style=color:#66d9ef>string</span>[] args)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        CreateHostBuilder(args).Build().Run();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> IHostBuilder CreateHostBuilder(<span style=color:#66d9ef>string</span>[] args) =&gt;
</span></span><span style=display:flex><span>        Host.CreateDefaultBuilder(args)
</span></span><span style=display:flex><span>            .ConfigureWebHostDefaults(webBuilder =&gt;
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                webBuilder.UseStartup&lt;Startup&gt;();
</span></span><span style=display:flex><span>            })
</span></span><span style=display:flex><span>            .ConfigureServices(services =&gt;
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                services.AddHostedService&lt;BackgroundWorker&gt;();
</span></span><span style=display:flex><span>            });
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h1 id=when-to-use-hangfire>When to Use Hangfire</h1><ul><li><strong>Long-Running Tasks</strong>: Ideal for tasks that take a significant amount of time to complete.</li><li><strong>Scheduled Tasks</strong>: Perfect for recurring jobs that need to run on a schedule.</li><li><strong>Persistent Jobs</strong>: When job persistence and monitoring are required.</li></ul><h1 id=when-not-to-use-hangfire>When Not to Use Hangfire</h1><ul><li><strong>Simple Tasks</strong>: For very simple b- ackground tasks, using a lightweight solution like IHostedService might be more appropriate.</li><li><strong>Resource Constraints</strong>: In environments with limited resources, the overhead of Hangfire might not be justified.</li></ul><h1 id=issues-considerations-and-best-practices>Issues, Considerations, and Best Practices</h1><h2 id=issues>Issues</h2><ul><li><strong>Database Dependency</strong>: Hangfire&rsquo;s reliance on a database can be a point of failure if the database becomes unavailable.</li><li><strong>Complexity</strong>: The additional complexity may not be warranted for simple use cases.</li></ul><h2 id=considerations>Considerations</h2><ul><li><strong>Scalability</strong>: Plan for horizontal scaling to handle increased job loads.</li><li><strong>Error Handling</strong>: Implement robust error handling and retry mechanisms.</li><li><strong>Security</strong>: Secure the Hangfire dashboard and job execution environment to prevent unauthorized access.</li></ul><h2 id=best-practices>Best Practices</h2><ul><li><strong>Use Dependency Injection</strong>: Leverage ASP.NET Core&rsquo;s DI system for injecting dependencies into job methods.</li><li><strong>Monitor Resource Usage</strong>: Regularly monitor the performance and resource usage of Hangfire to ensure it does not negatively impact your application.</li><li><strong>Secure the Dashboard</strong>: Protect the Hangfire dashboard with proper authentication and authorization.</li></ul><h1 id=conclusion>Conclusion</h1><p>Hangfire provides a powerful and flexible solution for managing background jobs in ASP.NET Core applications. By integrating Hangfire with ASP.NET Core and worker services, you can leverage its robust features to handle complex background processing tasks. However, it&rsquo;s essential to weigh the advantages against the potential drawbacks and ensure it&rsquo;s the right fit for your specific needs.</p><h1 id=references>References</h1><ul><li><a href=https://docs.hangfire.io/en/latest/ target=_blank>Hangfire Documentation</a></li></ul><hr><div class=footer><a class=previous-post href="https://gosang.github.io/posts/security/simplifying-cookie-based-and-token-based-authentication/?ref=footer"><span style=font-weight:700>« Previous</span><br>Simplifying Cookie-based and Token-based...</a><div class=next-post><a href="https://gosang.github.io/posts/dotnet/simplifying-cors-in-asp-dotnet-core-api/?ref=footer"><span style=font-weight:700>Next »</span><br>Simplifying CORS in ASP.NET Core API</a></div></div></div></main><div class=article-toc><div class=toc-wrapper><h4 id=contents></h4><nav id=TableOfContents><ul><li><a href=#main-concepts>Main Concepts</a></li><li><a href=#why-use-hangfire>Why Use Hangfire?</a></li></ul><ul><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#step-by-step-implementation>Step-by-Step Implementation</a><ul><li><a href=#1-install-hangfire-nuget-package>1. Install Hangfire NuGet Package</a></li><li><a href=#2-configure-hangfire-in-startupcs>2. Configure Hangfire in Startup.cs</a></li><li><a href=#3-create-a-worker-service>3. Create a Worker Service</a></li><li><a href=#4-register-the-worker-service>4. Register the Worker Service</a></li></ul></li></ul><ul><li><a href=#issues>Issues</a></li><li><a href=#considerations>Considerations</a></li><li><a href=#best-practices>Best Practices</a></li></ul></nav></div></div></div></body></html>