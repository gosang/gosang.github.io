<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en-us lang=en-us><head><script defer language=javascript type=text/javascript src=/js/bundle.min.11d62625e7495f8147fccf5d08f37bded574a50c4508c235cc666848567d99ab.js></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=/favicon.png><title itemprop=name>Go Sang - Implementing Minimal API With ASP.NET Core Using Request Endpoint Response</title><meta property="og:title" content="Go Sang - Implementing Minimal API With ASP.NET Core Using Request Endpoint Response"><meta name=twitter:title content="Go Sang - Implementing Minimal API With ASP.NET Core Using Request Endpoint Response"><meta itemprop=name content="Go Sang - Implementing Minimal API With ASP.NET Core Using Request Endpoint Response"><meta name=application-name content="Go Sang - Implementing Minimal API With ASP.NET Core Using Request Endpoint Response"><meta property="og:site_name" content><meta name=description content><meta itemprop=description content><meta property="og:description" content><meta name=twitter:description content><base href=https://gosang.github.io/posts/dotnet/implementing-minimal-api-with-asp-dotnet-core-using-pepr/><link rel=canonical href=https://gosang.github.io/posts/dotnet/implementing-minimal-api-with-asp-dotnet-core-using-pepr/ itemprop=url><meta name=url content="https://gosang.github.io/posts/dotnet/implementing-minimal-api-with-asp-dotnet-core-using-pepr/"><meta name=twitter:url content="https://gosang.github.io/posts/dotnet/implementing-minimal-api-with-asp-dotnet-core-using-pepr/"><meta property="og:url" content="https://gosang.github.io/posts/dotnet/implementing-minimal-api-with-asp-dotnet-core-using-pepr/"><meta property="og:updated_time" content="6009-06-05T934:32:24+0100"><link rel=sitemap type=application/xml title=Sitemap href=https://gosang.github.io/sitemap.xml><meta name=robots content="index,follow"><meta name=googlebot content="index,follow"><meta name=twitter:site content><meta name=twitter:creator content><meta property="fb:admins" content><meta name=apple-mobile-web-app-title content><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="black"><meta property="og:type" content="article"><meta property="article:publisher" content><meta property="og:article:published_time" content="6009-06-05T934:32:24+0100"><meta property="article:published_time" content="6009-06-05T934:32:24+0100"><script defer type=application/ld+json>{"@context":"http://schema.org","@type":"Article","headline":"Implementing Minimal API With ASP.NET Core Using Request Endpoint Response","author":{"@type":"Person","name":"https:\/\/github.com\/gosang"},"datePublished":"2024-09-06","description":"","wordCount":"976","mainEntityOfPage":"True","dateModified":"2024-09-06","image":{"@type":"imageObject","url":""},"publisher":{"@type":"Organization","name":"","logo":{"@type":"imageObject","url":""}}}</script><meta name=generator content="Hugo 0.119.0"><link type=text/css rel=stylesheet href=/css/bundle.min.178e339ccb9acabffeebf9adbb0bb23c1ec0b72a2a50edee18a5007d4d5a68aa.css><style>body{--sidebar-bg-color:#202020;--sidebar-img-border-color:#515151;--sidebar-p-color:#909090;--sidebar-h1-color:#FFF;--sidebar-a-color:#FFF;--sidebar-socials-color:#FFF;--text-color:#222;--bkg-color:#FAF9F6;--post-title-color:#303030;--list-color:#5a5a5a;--link-color:#268bd2;--date-color:#515151;--table-border-color:#E5E5E5;--table-stripe-color:#F9F9F9;--code-color:#bf616a;--code-background-color:#E5E5E5;--moon-sun-color:#FFF;--moon-sun-background-color:#515151}body.dark-theme{--text-color:#eee;--bkg-color:#121212;--post-title-color:#DBE2E9;--list-color:#9d9d9d;--link-color:#268bd2;--date-color:#9a9a9a;--table-border-color:#515151;--table-stripe-color:#202020;--code-color:#ff7f7f;--code-background-color:#393D47}body{background-color:var(--bkg-color)}</style></head><body><div class=wrapper><aside class=sidebar><div class="container sidebar-sticky"><div class=light-dark align=right><button class=btn-light-dark title="Toggle light/dark mode"><svg class="moon" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16"><path fill="currentcolor" d="M6 .278a.768.768.0 01.08.858 7.208 7.208.0 00-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527.0 1.04-.055 1.533-.16a.787.787.0 01.81.316.733.733.0 01-.031.893A8.349 8.349.0 018.344 16C3.734 16 0 12.286.0 7.71.0 4.266 2.114 1.312 5.124.06A.752.752.0 016 .278z"/></svg><svg class="sun" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16"><path fill="currentcolor" d="M8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 0zm0 13a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 13zm8-5a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2a.5.5.0 01.5.5zM3 8a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2A.5.5.0 013 8zm10.657-5.657a.5.5.0 010 .707l-1.414 1.415a.5.5.0 11-.707-.708l1.414-1.414a.5.5.0 01.707.0zm-9.193 9.193a.5.5.0 010 .707L3.05 13.657a.5.5.0 01-.707-.707l1.414-1.414a.5.5.0 01.707.0zm9.193 2.121a.5.5.0 01-.707.0l-1.414-1.414a.5.5.0 01.707-.707l1.414 1.414a.5.5.0 010 .707zM4.464 4.465a.5.5.0 01-.707.0L2.343 3.05a.5.5.0 11.707-.707l1.414 1.414a.5.5.0 010 .708z"/></svg></button></div><div class=sidebar-about><h1 class=brand><a href=https://gosang.github.io/><h1>Go Sang</h1></a></h1><p class=lead>Learning about technology.</p></div><nav><ul class=sidebar-nav><li class=heading><a href=/posts/>Posts</a></li><li class=sub-heading>Recent</li><li class=bullet><a href=https://gosang.github.io/posts/dotnet/implementing-uuid-in-asp-dotnet-core/>Implementing UUID in ASP.NET Core 8</a></li><li class=bullet><a href=https://gosang.github.io/posts/dotnet/implementing-guid-in-asp-dotnet-core/>Implementing GUID in ASP.NET Core</a></li><li class=bullet><a href=https://gosang.github.io/posts/dotnet/implementing-minimal-api-with-asp-dotnet-core-using-pepr/>Implementing Minimal API With ASP.NET Core Using Request Endpoint Response</a></li><li class=bullet><a href=https://gosang.github.io/posts/dotnet/implementing-notification-service-with-aws-sns-in-asp-dotnet-core/>Implementing Notification Service with Amazon SNS in ASP.NET Core 8 API</a></li><li class=bullet><a href=https://gosang.github.io/posts/dotnet/simplifying-object-oriented-programming-in-asp-dotnet-core/>Simplifying Object-Oriented Programming in ASP.NET Core with C#</a></li></ul></nav><a target=_blank class=social title=GitHub href=https://github.com/gosang><svg xmlns="http://www.w3.org/2000/svg" width="1.2em" height="1.2em" viewBox="-2 -2 24 24"><path fill="currentcolor" d="M18.88 1.099C18.147.366 17.265.0 16.233.0H3.746C2.714.0 1.832.366 1.099 1.099.366 1.832.0 2.714.0 3.746v12.487c0 1.032.366 1.914 1.099 2.647.733.733 1.615 1.099 2.647 1.099H6.66c.19.0.333-.007.429-.02a.504.504.0 00.286-.169c.095-.1.143-.245.143-.435l-.007-.885c-.004-.564-.006-1.01-.006-1.34l-.3.052c-.19.035-.43.05-.721.046a5.555 5.555.0 01-.904-.091 2.026 2.026.0 01-.872-.39 1.651 1.651.0 01-.572-.8l-.13-.3a3.25 3.25.0 00-.41-.663c-.186-.243-.375-.407-.566-.494l-.09-.065a.956.956.0 01-.17-.156.723.723.0 01-.117-.182c-.026-.061-.004-.111.065-.15.07-.04.195-.059.378-.059l.26.04c.173.034.388.138.643.311a2.1 2.1.0 01.631.677c.2.355.44.626.722.813.282.186.566.28.852.28.286.0.533-.022.742-.065a2.59 2.59.0 00.585-.196c.078-.58.29-1.028.637-1.34a8.907 8.907.0 01-1.333-.234 5.314 5.314.0 01-1.223-.507 3.5 3.5.0 01-1.047-.872c-.277-.347-.505-.802-.683-1.365-.177-.564-.266-1.215-.266-1.952.0-1.049.342-1.942 1.027-2.68-.32-.788-.29-1.673.091-2.652.252-.079.625-.02 1.119.175.494.195.856.362 1.086.5.23.14.414.257.553.352a9.233 9.233.0 012.497-.338c.859.0 1.691.113 2.498.338l.494-.312a6.997 6.997.0 011.197-.572c.46-.174.81-.221 1.054-.143.39.98.424 1.864.103 2.653.685.737 1.028 1.63 1.028 2.68.0.737-.089 1.39-.267 1.957-.177.568-.407 1.023-.689 1.366a3.65 3.65.0 01-1.053.865c-.42.234-.828.403-1.223.507a8.9 8.9.0 01-1.333.235c.45.39.676 1.005.676 1.846v3.11c0 .147.021.266.065.357a.36.36.0 00.208.189c.096.034.18.056.254.064.074.01.18.013.318.013h2.914c1.032.0 1.914-.366 2.647-1.099.732-.732 1.099-1.615 1.099-2.647V3.746c0-1.032-.367-1.914-1.1-2.647z"/></svg></a><a target=_blank class=social title="RSS Feed" href=https://gosang.github.io//posts/index.xml><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1.2em" viewBox="0 0 1280 1280"><g transform="translate(0.000000,1280.000000) scale(0.100000,-0.100000)" fill="currentcolor"><path d="M2295 11929c-284-12-642-45-707-65-17-5-18-63-18-1039 0-569 4-1036 8-1039 5-3 74 6 153 19 510 86 1168 95 1789 25 1348-153 2602-677 3670-1531 385-308 820-744 1126-1129 842-1060 1362-2313 1514-3650 70-621 61-1279-25-1789-13-79-22-148-19-153 3-4 471-8 1039-8h1035l5 23c51 225 85 942 67 1419-23 605-77 1044-198 1617-294 14e2-927 2734-1823 3846-1043 1295-2364 2259-3909 2854-1158 447-2451 656-3707 6e2z"/><path d="M2255 7845c-269-25-620-81-667-106-17-9-18-55-18-899 0-706 3-890 13-890 6 0 66 18 132 41 130 44 288 79 467 105 154 21 577 30 749 15 1207-107 2267-823 2814-1902 166-327 268-637 330-1001 38-227 48-384 42-662-8-348-44-590-126-831-23-66-41-126-41-132 0-10 184-13 890-13 844 0 890 1 899 18 27 50 88 452 110 725 14 162 14 624 1 782-59 703-233 1323-545 1945-481 956-1313 1788-2270 2268-620 310-1239 483-1940 542-165 14-669 10-840-5z"/><path d="M2519 3815c-391-66-725-336-868-703-79-201-96-462-45-677 83-344 338-641 666-774 116-47 205-69 330-80 412-39 811 153 1040 5e2 193 292 240 648 128 981-135 403-492 699-914 757-1e2 14-241 12-337-4z"/></g></svg></a><p class=footnote>powered by <a target=_blank href=https://gohugo.io>Hugo</a> | themed with <a target=_blank href=https://github.com/lukeorth/poison>poison</a><br>&copy; 2025 . All rights reserved.</p></div></aside><main class="content container"><div class=post><div class=info><h1 class=post-title><a href=https://gosang.github.io/posts/dotnet/implementing-minimal-api-with-asp-dotnet-core-using-pepr/>Implementing Minimal API With ASP.NET Core Using Request Endpoint Response</a></h1><time datetime=2024-09-06T17:34:32+0100 class=post-date>September 6, 2024</time><ul class=tags><li class="tag-Minimal API"><a href=https://gosang.github.io/tags/minimal-api>Minimal API</a></li><li class=tag-PEPR><a href=https://gosang.github.io/tags/pepr>PEPR</a></li><li class="tag-ASP.Net Core"><a href=https://gosang.github.io/tags/asp.net-core>ASP.Net Core</a></li></ul></div><p>With the release of ASP.NET Core 6, the framework introduced Minimal APIs, providing a streamlined approach to building APIs. This model is particularly well-suited for small-scale, microservices-based applications or simple APIs that don&rsquo;t require the overhead of a full MVC structure. In this blog, we will explore the Minimal API approach using the REPR (Request-Endpoint-Response) pattern, which simplifies API development by breaking down the process into three primary steps: handling requests, defining endpoints, and crafting responses.</p><h1 id=what-is-aspnet-core-8-minimal-api-with-repr>What is ASP.NET Core 8 Minimal API with REPR?</h1><p>ASP.NET Core 8 Minimal API offers a lightweight way to create HTTP APIs with minimal dependencies, setup, and boilerplate code. The REPR pattern in this context stands for Request-Endpoint-Response:</p><ul><li><strong>Request</strong>: The incoming HTTP request that the API receives.</li><li><strong>Endpoint</strong>: The specific route or URL path that the API listens to. It typically includes the business logic to process the request.</li><li><strong>Response</strong>: The HTTP response returned to the client, often containing data or status information.</li></ul><h1 id=why-minimal-apis-and-repr>Why Minimal APIs and REPR?</h1><p>The main goal of Minimal APIs is to simplify the API development process by removing unnecessary abstractions and focusing on what’s truly essential. This model aligns with the principles of microservices, where simplicity and lightweight design are key. The REPR pattern fits perfectly into this model by further streamlining the API development process.</p><h1 id=key-concepts>Key Concepts</h1><ul><li><strong>Simplicity</strong>: Minimal APIs reduce the boilerplate code needed, making it easier and faster to create APIs.</li><li><strong>Flexibility</strong>: Developers can define endpoints without the need for complex routing configurations.</li><li><strong>Performance</strong>: With less overhead, Minimal APIs can perform better in certain scenarios, particularly when used in microservices or serverless environments.</li></ul><h1 id=minimal-api-vs-controller-based-api>Minimal API vs. Controller-based API</h1><table><thead><tr><th>Feature</th><th>Minimal API</th><th>Controller-based API</th></tr></thead><tbody><tr><td>Setup Complexity</td><td>Simple, with less code and configuration</td><td>Requires more setup with controllers and routing</td></tr><tr><td>Flexibility</td><td>High, ideal for small APIs and microservices</td><td>Structured, suitable for large applications</td></tr><tr><td>Routing</td><td>Defined inline with endpoints</td><td>Defined via attribute routing or convention-based</td></tr><tr><td>Testability</td><td>Requires a different approach for unit testing</td><td>Easier to unit test with dedicated controllers</td></tr><tr><td>Maintainability</td><td>May become harder to maintain as the project grows</td><td>Easier to maintain with well-structured controllers</td></tr></tbody></table><h1 id=implementing-minimal-api-with-repr-in-aspnet-core-8>Implementing Minimal API with REPR in ASP.NET Core 8</h1><h2 id=project-setup>Project Setup</h2><p>First, let&rsquo;s create a new ASP.NET Core 8 project:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>dotnet new web -n MinimalApiWithREPR
</span></span><span style=display:flex><span>cd MinimalApiWithREPR
</span></span></code></pre></div><h2 id=creating-a-minimal-api>Creating a Minimal API</h2><p>Now, let’s implement a simple CRUD API for managing Product entities using the REPR pattern.</p><h3 id=define-the-model>Define the Model</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Product</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> Id { <span style=color:#66d9ef>get</span>; <span style=color:#66d9ef>set</span>; }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>string</span> Name { <span style=color:#66d9ef>get</span>; <span style=color:#66d9ef>set</span>; }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>decimal</span> Price { <span style=color:#66d9ef>get</span>; <span style=color:#66d9ef>set</span>; }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=in-memory-data-store>In-Memory Data Store</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ProductStore</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> List&lt;Product&gt; Products { <span style=color:#66d9ef>get</span>; <span style=color:#66d9ef>set</span>; } = <span style=color:#66d9ef>new</span> List&lt;Product&gt;
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>new</span> Product { Id = <span style=color:#ae81ff>1</span>, Name = <span style=color:#e6db74>&#34;Laptop&#34;</span>, Price = <span style=color:#ae81ff>1000</span>M },
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>new</span> Product { Id = <span style=color:#ae81ff>2</span>, Name = <span style=color:#e6db74>&#34;Phone&#34;</span>, Price = <span style=color:#ae81ff>500</span>M }
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=implementing-crud-endpoints>Implementing CRUD Endpoints</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#66d9ef>var</span> builder = WebApplication.CreateBuilder(args);
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> app = builder.Build();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>app.MapGet(<span style=color:#e6db74>&#34;/products&#34;</span>, () =&gt; Results.Ok(ProductStore.Products)) <span style=color:#75715e>// READ (Request)</span>
</span></span><span style=display:flex><span>    .WithName(<span style=color:#e6db74>&#34;GetProducts&#34;</span>) <span style=color:#75715e>// Endpoint</span>
</span></span><span style=display:flex><span>    .WithTags(<span style=color:#e6db74>&#34;Products&#34;</span>); <span style=color:#75715e>// Response</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>app.MapGet(<span style=color:#e6db74>&#34;/products/{id}&#34;</span>, (<span style=color:#66d9ef>int</span> id) =&gt;
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> product = ProductStore.Products.FirstOrDefault(p =&gt; p.Id == id);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> product != <span style=color:#66d9ef>null</span> ? Results.Ok(product) : Results.NotFound();
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span>.WithName(<span style=color:#e6db74>&#34;GetProductById&#34;</span>)
</span></span><span style=display:flex><span>.WithTags(<span style=color:#e6db74>&#34;Products&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>app.MapPost(<span style=color:#e6db74>&#34;/products&#34;</span>, (Product product) =&gt;
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    product.Id = ProductStore.Products.Max(p =&gt; p.Id) + <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    ProductStore.Products.Add(product);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> Results.Created(<span style=color:#e6db74>$&#34;/products/{product.Id}&#34;</span>, product);
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span>.WithName(<span style=color:#e6db74>&#34;CreateProduct&#34;</span>)
</span></span><span style=display:flex><span>.WithTags(<span style=color:#e6db74>&#34;Products&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>app.MapPut(<span style=color:#e6db74>&#34;/products/{id}&#34;</span>, (<span style=color:#66d9ef>int</span> id, Product updatedProduct) =&gt;
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> product = ProductStore.Products.FirstOrDefault(p =&gt; p.Id == id);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (product <span style=color:#66d9ef>is</span> <span style=color:#66d9ef>null</span>)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> Results.NotFound();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    product.Name = updatedProduct.Name;
</span></span><span style=display:flex><span>    product.Price = updatedProduct.Price;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> Results.NoContent();
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span>.WithName(<span style=color:#e6db74>&#34;UpdateProduct&#34;</span>)
</span></span><span style=display:flex><span>.WithTags(<span style=color:#e6db74>&#34;Products&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>app.MapDelete(<span style=color:#e6db74>&#34;/products/{id}&#34;</span>, (<span style=color:#66d9ef>int</span> id) =&gt;
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> product = ProductStore.Products.FirstOrDefault(p =&gt; p.Id == id);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (product <span style=color:#66d9ef>is</span> <span style=color:#66d9ef>null</span>)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> Results.NotFound();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    ProductStore.Products.Remove(product);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> Results.NoContent();
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span>.WithName(<span style=color:#e6db74>&#34;DeleteProduct&#34;</span>)
</span></span><span style=display:flex><span>.WithTags(<span style=color:#e6db74>&#34;Products&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>app.Run();
</span></span></code></pre></div><p>In this example:</p><ul><li><strong>Request</strong>: Each endpoint receives an HTTP request. For instance, app.MapGet("/products") handles a GET request to retrieve all products.</li><li><strong>Endpoint</strong>: The logic for handling each request is defined within the endpoint itself. This keeps the API definition clear and concise.</li><li><strong>Response</strong>: The API returns a response using methods like Results.Ok(), Results.Created(), Results.NoContent(), etc. These methods standardize the HTTP response generation.</li></ul><h1 id=advantages-and-disadvantages-of-minimal-api-with-repr>Advantages and Disadvantages of Minimal API with REPR</h1><table><thead><tr><th>Advantage</th><th>Disadvantage</th></tr></thead><tbody><tr><td><strong>Reduced Boilerplate</strong>: The Minimal API approach requires less code, making it quicker to set up.</td><td><strong>Scalability Issues</strong>: As the project grows, the lack of structure can lead to maintenance challenges.</td></tr><tr><td><strong>High Performance</strong>: With fewer layers of abstraction, Minimal APIs can be more performant, especially in high-throughput scenarios.</td><td><strong>Testability</strong>: Unit testing may require more effort compared to the Controller-based approach.</td></tr><tr><td><strong>Easy Prototyping</strong>: Ideal for building prototypes or small services quickly.</td><td><strong>Limited Features</strong>: Lacks the rich features available in MVC like model binding, filters, etc.</td></tr></tbody></table><h1 id=when-to-use-minimal-api-with-repr>When to Use Minimal API with REPR</h1><table><thead><tr><th>When to use</th><th>When to avoid</th></tr></thead><tbody><tr><td><strong>Microservices</strong>: When developing microservices or small, independent services.</td><td><strong>Large Applications</strong>: When building large, complex applications that require sophisticated routing, validation, and dependency injection.</td></tr><tr><td><strong>Prototyping</strong>: Quick prototyping and experimentation.</td><td><strong>Complex Business Logic</strong>: When the business logic is complex and requires better separation of concerns.</td></tr><tr><td><strong>Serverless Functions</strong>: Lightweight functions that need minimal setup.</td><td></td></tr></tbody></table><h1 id=issues-considerations-and-best-practices>Issues, Considerations, and Best Practices</h1><ul><li><strong>Code Organization</strong>: As the number of endpoints grows, consider organizing them in separate classes or files to maintain readability.</li><li><strong>Security</strong>: Implement appropriate security measures like authentication and authorization.</li><li><strong>Versioning</strong>: Plan for API versioning if you anticipate future changes.</li><li><strong>Testing</strong>: Ensure you have a testing strategy in place, as testing minimal APIs may require different approaches compared to controller-based APIs.</li><li><strong>Error Handling</strong>: Implement consistent error handling across all endpoints to ensure reliable API behavior.</li></ul><h1 id=conclusion>Conclusion</h1><p>ASP.NET Core 8&rsquo;s Minimal API with the REPR pattern is a powerful tool for building lightweight, performant APIs. By following the principles of Request-Endpoint-Response, developers can create clean, efficient APIs suited to a variety of use cases, from microservices to serverless functions. However, careful consideration should be given to the scalability and maintainability of such APIs as the application grows.</p><p>A sample Minimal API can be found at <a href=https://github.com/gosang/CQRS.MinimalAPI.Sample target=_blank>CQRS.MinimalAPI.Sample</a>.</p><h1 id=references>References</h1><ul><li><a href=https://learn.microsoft.com/en-us/aspnet/core/fundamentals/minimal-apis target=_blank>Microsoft Docs on Minimal APIs</a></li><li><a href="https://learn.microsoft.com/en-us/aspnet/core/introduction-to-aspnet-core?view=aspnetcore-8.0" target=_blank>ASP.NET Core 8 Documentation</a></li></ul><hr><div class=footer><a class=previous-post href="https://gosang.github.io/posts/dotnet/implementing-notification-service-with-aws-sns-in-asp-dotnet-core/?ref=footer"><span style=font-weight:700>« Previous</span><br>Implementing Notification Service with Amazon SNS...</a><div class=next-post><a href="https://gosang.github.io/posts/dotnet/implementing-guid-in-asp-dotnet-core/?ref=footer"><span style=font-weight:700>Next »</span><br>Implementing GUID in ASP.NET Core</a></div></div></div></main><div class=article-toc><div class=toc-wrapper><h4 id=contents></h4><nav id=TableOfContents><ul><li><a href=#project-setup>Project Setup</a></li><li><a href=#creating-a-minimal-api>Creating a Minimal API</a><ul><li><a href=#define-the-model>Define the Model</a></li><li><a href=#in-memory-data-store>In-Memory Data Store</a></li><li><a href=#implementing-crud-endpoints>Implementing CRUD Endpoints</a></li></ul></li></ul></nav></div></div></div></body></html>