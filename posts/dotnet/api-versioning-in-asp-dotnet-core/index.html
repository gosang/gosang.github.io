<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en-us lang=en-us><head><script defer language=javascript type=text/javascript src=/js/bundle.min.11d62625e7495f8147fccf5d08f37bded574a50c4508c235cc666848567d99ab.js></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=/favicon.png><title itemprop=name>Go Sang - API Versioning in ASP.NET Core</title><meta property="og:title" content="Go Sang - API Versioning in ASP.NET Core"><meta name=twitter:title content="Go Sang - API Versioning in ASP.NET Core"><meta itemprop=name content="Go Sang - API Versioning in ASP.NET Core"><meta name=application-name content="Go Sang - API Versioning in ASP.NET Core"><meta property="og:site_name" content><meta name=description content><meta itemprop=description content><meta property="og:description" content><meta name=twitter:description content><base href=https://gosang.github.io/posts/dotnet/api-versioning-in-asp-dotnet-core/><link rel=canonical href=https://gosang.github.io/posts/dotnet/api-versioning-in-asp-dotnet-core/ itemprop=url><meta name=url content="https://gosang.github.io/posts/dotnet/api-versioning-in-asp-dotnet-core/"><meta name=twitter:url content="https://gosang.github.io/posts/dotnet/api-versioning-in-asp-dotnet-core/"><meta property="og:url" content="https://gosang.github.io/posts/dotnet/api-versioning-in-asp-dotnet-core/"><meta property="og:updated_time" content="8006-08-12T621:44:24+0100"><link rel=sitemap type=application/xml title=Sitemap href=https://gosang.github.io/sitemap.xml><meta name=robots content="index,follow"><meta name=googlebot content="index,follow"><meta name=twitter:site content><meta name=twitter:creator content><meta property="fb:admins" content><meta name=apple-mobile-web-app-title content><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="black"><meta property="og:type" content="article"><meta property="article:publisher" content><meta property="og:article:published_time" content="8006-08-12T621:44:24+0100"><meta property="article:published_time" content="8006-08-12T621:44:24+0100"><script defer type=application/ld+json>{"@context":"http://schema.org","@type":"Article","headline":"API Versioning in ASP.NET Core","author":{"@type":"Person","name":"https:\/\/github.com\/gosang"},"datePublished":"2024-06-08","description":"","wordCount":"954","mainEntityOfPage":"True","dateModified":"2024-06-08","image":{"@type":"imageObject","url":""},"publisher":{"@type":"Organization","name":"","logo":{"@type":"imageObject","url":""}}}</script><meta name=generator content="Hugo 0.119.0"><link type=text/css rel=stylesheet href=/css/bundle.min.178e339ccb9acabffeebf9adbb0bb23c1ec0b72a2a50edee18a5007d4d5a68aa.css><style>body{--sidebar-bg-color:#202020;--sidebar-img-border-color:#515151;--sidebar-p-color:#909090;--sidebar-h1-color:#FFF;--sidebar-a-color:#FFF;--sidebar-socials-color:#FFF;--text-color:#222;--bkg-color:#FAF9F6;--post-title-color:#303030;--list-color:#5a5a5a;--link-color:#268bd2;--date-color:#515151;--table-border-color:#E5E5E5;--table-stripe-color:#F9F9F9;--code-color:#bf616a;--code-background-color:#E5E5E5;--moon-sun-color:#FFF;--moon-sun-background-color:#515151}body.dark-theme{--text-color:#eee;--bkg-color:#121212;--post-title-color:#DBE2E9;--list-color:#9d9d9d;--link-color:#268bd2;--date-color:#9a9a9a;--table-border-color:#515151;--table-stripe-color:#202020;--code-color:#ff7f7f;--code-background-color:#393D47}body{background-color:var(--bkg-color)}</style></head><body><div class=wrapper><aside class=sidebar><div class="container sidebar-sticky"><div class=light-dark align=right><button class=btn-light-dark title="Toggle light/dark mode"><svg class="moon" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16"><path fill="currentcolor" d="M6 .278a.768.768.0 01.08.858 7.208 7.208.0 00-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527.0 1.04-.055 1.533-.16a.787.787.0 01.81.316.733.733.0 01-.031.893A8.349 8.349.0 018.344 16C3.734 16 0 12.286.0 7.71.0 4.266 2.114 1.312 5.124.06A.752.752.0 016 .278z"/></svg><svg class="sun" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16"><path fill="currentcolor" d="M8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 0zm0 13a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 13zm8-5a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2a.5.5.0 01.5.5zM3 8a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2A.5.5.0 013 8zm10.657-5.657a.5.5.0 010 .707l-1.414 1.415a.5.5.0 11-.707-.708l1.414-1.414a.5.5.0 01.707.0zm-9.193 9.193a.5.5.0 010 .707L3.05 13.657a.5.5.0 01-.707-.707l1.414-1.414a.5.5.0 01.707.0zm9.193 2.121a.5.5.0 01-.707.0l-1.414-1.414a.5.5.0 01.707-.707l1.414 1.414a.5.5.0 010 .707zM4.464 4.465a.5.5.0 01-.707.0L2.343 3.05a.5.5.0 11.707-.707l1.414 1.414a.5.5.0 010 .708z"/></svg></button></div><div class=sidebar-about><h1 class=brand><a href=https://gosang.github.io/><h1>Go Sang</h1></a></h1><p class=lead>Learning about technology.</p></div><nav><ul class=sidebar-nav><li class=heading><a href=/posts/>Posts</a></li><li class=sub-heading>Recent</li><li class=bullet><a href=https://gosang.github.io/posts/dotnet/result-pattern-in-asp-dotnet-core/>Result Pattern in Asp Dotnet Core</a></li><li class=bullet><a href=https://gosang.github.io/posts/dotnet/simplifying-cors-in-asp-dotnet-core-api/>Simplifying CORS in ASP.NET Core API</a></li><li class=bullet><a href=https://gosang.github.io/posts/dotnet/using-hangfire-with-asp-dotnet-core-and-worker-services/>Using Hangfire with ASP.NET Core and Worker Services</a></li><li class=bullet><a href=https://gosang.github.io/posts/security/simplifying-cookie-based-and-token-based-authentication/>Simplifying Cookie-based and Token-based Authentication</a></li><li class=bullet><a href=https://gosang.github.io/posts/istio/simplifying-oauth-2-in-istio-proxy-sidecar-and-envoy-filter/>Simplifying OAuth 2 in Istio Proxy, Sidecar and Envoy Filter</a></li></ul></nav><a target=_blank class=social title=GitHub href=https://github.com/gosang><svg xmlns="http://www.w3.org/2000/svg" width="1.2em" height="1.2em" viewBox="-2 -2 24 24"><path fill="currentcolor" d="M18.88 1.099C18.147.366 17.265.0 16.233.0H3.746C2.714.0 1.832.366 1.099 1.099.366 1.832.0 2.714.0 3.746v12.487c0 1.032.366 1.914 1.099 2.647.733.733 1.615 1.099 2.647 1.099H6.66c.19.0.333-.007.429-.02a.504.504.0 00.286-.169c.095-.1.143-.245.143-.435l-.007-.885c-.004-.564-.006-1.01-.006-1.34l-.3.052c-.19.035-.43.05-.721.046a5.555 5.555.0 01-.904-.091 2.026 2.026.0 01-.872-.39 1.651 1.651.0 01-.572-.8l-.13-.3a3.25 3.25.0 00-.41-.663c-.186-.243-.375-.407-.566-.494l-.09-.065a.956.956.0 01-.17-.156.723.723.0 01-.117-.182c-.026-.061-.004-.111.065-.15.07-.04.195-.059.378-.059l.26.04c.173.034.388.138.643.311a2.1 2.1.0 01.631.677c.2.355.44.626.722.813.282.186.566.28.852.28.286.0.533-.022.742-.065a2.59 2.59.0 00.585-.196c.078-.58.29-1.028.637-1.34a8.907 8.907.0 01-1.333-.234 5.314 5.314.0 01-1.223-.507 3.5 3.5.0 01-1.047-.872c-.277-.347-.505-.802-.683-1.365-.177-.564-.266-1.215-.266-1.952.0-1.049.342-1.942 1.027-2.68-.32-.788-.29-1.673.091-2.652.252-.079.625-.02 1.119.175.494.195.856.362 1.086.5.23.14.414.257.553.352a9.233 9.233.0 012.497-.338c.859.0 1.691.113 2.498.338l.494-.312a6.997 6.997.0 011.197-.572c.46-.174.81-.221 1.054-.143.39.98.424 1.864.103 2.653.685.737 1.028 1.63 1.028 2.68.0.737-.089 1.39-.267 1.957-.177.568-.407 1.023-.689 1.366a3.65 3.65.0 01-1.053.865c-.42.234-.828.403-1.223.507a8.9 8.9.0 01-1.333.235c.45.39.676 1.005.676 1.846v3.11c0 .147.021.266.065.357a.36.36.0 00.208.189c.096.034.18.056.254.064.074.01.18.013.318.013h2.914c1.032.0 1.914-.366 2.647-1.099.732-.732 1.099-1.615 1.099-2.647V3.746c0-1.032-.367-1.914-1.1-2.647z"/></svg></a><a target=_blank class=social title="RSS Feed" href=https://gosang.github.io//posts/index.xml><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1.2em" viewBox="0 0 1280 1280"><g transform="translate(0.000000,1280.000000) scale(0.100000,-0.100000)" fill="currentcolor"><path d="M2295 11929c-284-12-642-45-707-65-17-5-18-63-18-1039 0-569 4-1036 8-1039 5-3 74 6 153 19 510 86 1168 95 1789 25 1348-153 2602-677 3670-1531 385-308 820-744 1126-1129 842-1060 1362-2313 1514-3650 70-621 61-1279-25-1789-13-79-22-148-19-153 3-4 471-8 1039-8h1035l5 23c51 225 85 942 67 1419-23 605-77 1044-198 1617-294 14e2-927 2734-1823 3846-1043 1295-2364 2259-3909 2854-1158 447-2451 656-3707 6e2z"/><path d="M2255 7845c-269-25-620-81-667-106-17-9-18-55-18-899 0-706 3-890 13-890 6 0 66 18 132 41 130 44 288 79 467 105 154 21 577 30 749 15 1207-107 2267-823 2814-1902 166-327 268-637 330-1001 38-227 48-384 42-662-8-348-44-590-126-831-23-66-41-126-41-132 0-10 184-13 890-13 844 0 890 1 899 18 27 50 88 452 110 725 14 162 14 624 1 782-59 703-233 1323-545 1945-481 956-1313 1788-2270 2268-620 310-1239 483-1940 542-165 14-669 10-840-5z"/><path d="M2519 3815c-391-66-725-336-868-703-79-201-96-462-45-677 83-344 338-641 666-774 116-47 205-69 330-80 412-39 811 153 1040 5e2 193 292 240 648 128 981-135 403-492 699-914 757-1e2 14-241 12-337-4z"/></g></svg></a><p class=footnote>powered by <a target=_blank href=https://gohugo.io>Hugo</a> | themed with <a target=_blank href=https://github.com/lukeorth/poison>poison</a><br>&copy; 2024 . All rights reserved.</p></div></aside><main class="content container"><div class=post><div class=info><h1 class=post-title><a href=https://gosang.github.io/posts/dotnet/api-versioning-in-asp-dotnet-core/>API Versioning in ASP.NET Core</a></h1><time datetime=2024-06-08T12:21:44+0100 class=post-date>June 8, 2024</time><ul class=tags><li class="tag-ASP.Net Core"><a href=https://gosang.github.io/tags/asp.net-core>ASP.Net Core</a></li></ul></div><p>API Versioning is a critical aspect of building and maintaining robust and scalable APIs. It allows developers to introduce new features and improvements while maintaining backward compatibility for existing clients. We will look into the rationale behind API versioning, the problems it resolves, and the implementations of various versioning strategies in ASP.NET Core.</p><h1 id=why-api-versioning>Why API Versioning?</h1><ul><li><strong>Backward Compatibility</strong>: Ensures existing clients continue to function even when new features are added.</li><li><strong>Controlled Evolution</strong>: Allows incremental and controlled release of new functionalities.</li><li><strong>Flexibility</strong>: Provides flexibility to make significant changes without breaking existing API contracts.</li></ul><h1 id=problems-addressed-by-api-versioning>Problems Addressed by API Versioning</h1><ul><li><strong>Compatibility Issues</strong>: Avoids breaking changes for existing consumers.</li><li><strong>Maintenance Complexity</strong>: Simplifies maintenance by clearly separating different versions of APIs.</li><li><strong>Deprecation Strategy</strong>: Facilitates a planned deprecation strategy, allowing clients to migrate at their own pace.</li></ul><h1 id=api-versioning-in-aspnet-core-detailed-implementation-and-comparison>API Versioning in ASP.NET Core: Detailed Implementation and Comparison</h1><p>API versioning is essential for evolving your APIs while maintaining backward compatibility. This guide provides detailed explanations and code snippets for implementing various API versioning strategies in ASP.NET Core, including Query String Parameter Versioning, Media Type (Header) Versioning, and URI Versioning. Additionally, it compares the advantages and disadvantages of these strategies.</p><h2 id=implementing-api-versioning-in-aspnet-core>Implementing API Versioning in ASP.NET Core</h2><h3 id=query-string-parameter-versioning>Query String Parameter Versioning</h3><p>Query String Parameter Versioning involves specifying the API version as a query parameter in the URL. This method is straightforward to implement and makes the version explicit in the request URL.</p><h4 id=implementation>Implementation</h4><ol><li>Install the API Versioning Package:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>dotnet add package Microsoft.AspNetCore.Mvc.Versioning
</span></span></code></pre></div><ol start=2><li>Configure Services:
In <code>Startup.cs</code>, configure the API versioning service:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> ConfigureServices(IServiceCollection services)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    services.AddControllers();
</span></span><span style=display:flex><span>    services.AddApiVersioning(options =&gt;
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        options.ReportApiVersions = <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>        options.AssumeDefaultVersionWhenUnspecified = <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>        options.DefaultApiVersion = <span style=color:#66d9ef>new</span> ApiVersion(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>        options.ApiVersionReader = <span style=color:#66d9ef>new</span> QueryStringApiVersionReader(<span style=color:#e6db74>&#34;v&#34;</span>);
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=3><li>Versioned Controller:
Create a versioned controller:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#a6e22e>[ApiVersion(&#34;1.0&#34;)]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>[ApiVersion(&#34;2.0&#34;)]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>[Route(&#34;api/[controller]</span><span style=color:#e6db74>&#34;)]
</span></span></span><span style=display:flex><span><span style=color:#e6db74></span><span style=color:#a6e22e>[ApiController]</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ValuesController</span> : ControllerBase
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span><span style=color:#a6e22e>    [HttpGet]</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> IActionResult GetV1() =&gt; Ok(<span style=color:#e6db74>&#34;Version 1&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>    [HttpGet, MapToApiVersion(&#34;2.0&#34;)]</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> IActionResult GetV2() =&gt; Ok(<span style=color:#e6db74>&#34;Version 2&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h5 id=example-request>Example Request</h5><ul><li>Version 1: GET /api/values?v=1.0</li><li>Version 2: GET /api/values?v=2.0</li></ul><h3 id=media-type-header-versioning>Media Type (Header) Versioning</h3><p>Media Type Versioning, also known as Content Negotiation, involves specifying the version in the Accept header of the HTTP request. This method adheres to REST principles by leveraging HTTP headers and keeps the URL clean.</p><h4 id=implementation-1>Implementation</h4><ol><li>Configure Services:
In <code>Startup.cs</code>, configure the API versioning service:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> ConfigureServices(IServiceCollection services)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    services.AddControllers();
</span></span><span style=display:flex><span>    services.AddApiVersioning(options =&gt;
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        options.ReportApiVersions = <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>        options.AssumeDefaultVersionWhenUnspecified = <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>        options.DefaultApiVersion = <span style=color:#66d9ef>new</span> ApiVersion(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>        options.ApiVersionReader = <span style=color:#66d9ef>new</span> MediaTypeApiVersionReader(<span style=color:#e6db74>&#34;v&#34;</span>);
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=2><li>Versioned Controller:
Create a versioned controller:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#a6e22e>[ApiVersion(&#34;1.0&#34;)]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>[ApiVersion(&#34;2.0&#34;)]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>[Route(&#34;api/[controller]</span><span style=color:#e6db74>&#34;)]
</span></span></span><span style=display:flex><span><span style=color:#e6db74></span><span style=color:#a6e22e>[ApiController]</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ValuesController</span> : ControllerBase
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span><span style=color:#a6e22e>    [HttpGet]</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> IActionResult GetV1() =&gt; Ok(<span style=color:#e6db74>&#34;Version 1&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>    [HttpGet, MapToApiVersion(&#34;2.0&#34;)]</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> IActionResult GetV2() =&gt; Ok(<span style=color:#e6db74>&#34;Version 2&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h5 id=example-request-1>Example Request</h5><ul><li>Version 1: GET /api/values with Accept: application/vnd.myapi.v1+json</li><li>Version 2: GET /api/values with Accept: application/vnd.myapi.v2+json</li></ul><h3 id=uri-versioning>URI Versioning</h3><p>URI Versioning incorporates the version directly into the URL path. This method makes the version immediately visible and easy to understand.</p><h4 id=implementation-2>Implementation</h4><ol><li>Configure Services:
In <code>Startup.cs</code>, configure the API versioning service:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> ConfigureServices(IServiceCollection services)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    services.AddControllers();
</span></span><span style=display:flex><span>    services.AddApiVersioning(options =&gt;
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        options.ReportApiVersions = <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>        options.AssumeDefaultVersionWhenUnspecified = <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>        options.DefaultApiVersion = <span style=color:#66d9ef>new</span> ApiVersion(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>        options.ApiVersionReader = <span style=color:#66d9ef>new</span> UrlSegmentApiVersionReader();
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=2><li>Versioned Controller:
Create a versioned controller:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#a6e22e>[ApiVersion(&#34;1.0&#34;)]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>[ApiVersion(&#34;2.0&#34;)]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>[Route(&#34;api/v{version:apiVersion}/[controller]</span><span style=color:#e6db74>&#34;)]
</span></span></span><span style=display:flex><span><span style=color:#e6db74></span><span style=color:#a6e22e>[ApiController]</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ValuesController</span> : ControllerBase
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span><span style=color:#a6e22e>    [HttpGet]</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> IActionResult GetV1() =&gt; Ok(<span style=color:#e6db74>&#34;Version 1&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>    [HttpGet, MapToApiVersion(&#34;2.0&#34;)]</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> IActionResult GetV2() =&gt; Ok(<span style=color:#e6db74>&#34;Version 2&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=example-request-2>Example Request</h4><ul><li>Version 1: GET /api/v1/values</li><li>Version 2: GET /api/v2/values</li></ul><h1 id=comparison-of-api-versioning-strategies>Comparison of API Versioning Strategies</h1><p>API versioning is crucial for managing changes and ensuring backward compatibility in your APIs. Each versioning strategy has its own advantages and disadvantages.</p><table><thead><tr><th>Versioning Strategy</th><th>Advantages</th><th>Disadvantages</th></tr></thead><tbody><tr><td>Query String Parameter</td><td>- Simple to implement</td><td>- Clutters query string</td></tr><tr><td></td><td>- Explicit versioning in the URL</td><td>- Potential conflicts with other query parameters</td></tr><tr><td>Media Type (Header)</td><td>- Clean URLs</td><td>- More complex to implement and understand</td></tr><tr><td></td><td>- Adheres to REST principles by leveraging HTTP headers</td><td>- Requires clients to set headers correctly</td></tr><tr><td>URI Versioning</td><td>- Clear and explicit versioning visible in the URL</td><td>- Adds extra segments to the URL path</td></tr><tr><td></td><td>- Easy to understand and implement</td><td>- Not strictly RESTful according to some purists</td></tr></tbody></table><p>Each versioning strategy offers unique benefits and drawbacks. Here&rsquo;s a brief recap:</p><ul><li><strong>Query String Parameter Versioning</strong>: Straightforward but can clutter URLs.</li><li><strong>Media Type (Header) Versioning</strong>: Keeps URLs clean but requires more effort to implement and understand.</li><li><strong>URI Versioning</strong>: Highly visible and simple to implement but can make URLs longer and more complex.</li></ul><p>Choose the strategy that best fits your API&rsquo;s needs and your consumers&rsquo; preferences. Proper versioning will ensure your API evolves smoothly and remains backward compatible.</p><h1 id=when-to-use-api-versioning>When to Use API Versioning</h1><ul><li>When you need to support multiple versions of an API simultaneously.</li><li>When you expect significant changes in the API over time.</li><li>When you want to provide backward compatibility for existing clients.</li></ul><h1 id=when-not-to-use-api-versioning>When Not to Use API Versioning</h1><ul><li>For internal or limited-use APIs where changes can be communicated and managed easily.</li><li>When the API is still in early development and subject to frequent changes.</li></ul><h1 id=issues-and-considerations>Issues and Considerations</h1><ul><li><strong>Client Compatibility</strong>: Ensure that clients can handle different versions.</li><li><strong>Documentation</strong>: Maintain clear and updated documentation for each version.</li><li><strong>Testing</strong>: Thoroughly test all versions to avoid breaking changes.</li><li><strong>Deprecation</strong>: Plan and communicate the deprecation of old versions.</li></ul><h1 id=best-practices>Best Practices</h1><ul><li><strong>Start with Versioning</strong>: Even if you only have one version, plan for future versions from the start.</li><li><strong>Use Semantic Versioning</strong>: Follow semantic versioning (e.g., 1.0, 2.0) for clarity.</li><li><strong>Deprecate Gracefully</strong>: Provide ample notice and support for deprecated versions.</li><li><strong>Automate Testing</strong>: Use automated tests to ensure compatibility across versions.</li></ul><h1 id=conclusion>Conclusion</h1><p>API versioning is an essential practice for developing scalable and maintainable APIs. By understanding and implementing the appropriate versioning strategy in ASP.NET Core, you can ensure that your API evolves smoothly while maintaining compatibility for existing clients. Consider the advantages and disadvantages of each versioning method to choose the best one for your specific scenario.</p><h1 id=references>References</h1><ul><li><a href=https://github.com/dotnet/aspnet-api-versioning target=_blank>https://github.com/dotnet/aspnet-api-versioning</a></li><li><a href=https://github.com/dotnet/aspnet-api-versioning/wiki target=_blank>https://github.com/dotnet/aspnet-api-versioning/wiki</a></li></ul><hr><div class=footer><a class=previous-post href="https://gosang.github.io/posts/react/advanced-server-rendering-react-query-with-nextjs-app-router/?ref=footer"><span style=font-weight:700>« Previous</span><br>Advanced Server Rendering: React Query With...</a><div class=next-post><a href="https://gosang.github.io/posts/dotnet/testing-in-asp-dotnet-core-using-xunit/?ref=footer"><span style=font-weight:700>Next »</span><br>Testing in ASP.NET Core Using xUnit</a></div></div></div></main><div class=article-toc><div class=toc-wrapper><h4 id=contents></h4><nav id=TableOfContents><ul><li><a href=#implementing-api-versioning-in-aspnet-core>Implementing API Versioning in ASP.NET Core</a><ul><li><a href=#query-string-parameter-versioning>Query String Parameter Versioning</a></li><li><a href=#media-type-header-versioning>Media Type (Header) Versioning</a></li><li><a href=#uri-versioning>URI Versioning</a></li></ul></li></ul></nav></div></div></div></body></html>