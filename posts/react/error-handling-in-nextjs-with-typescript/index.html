<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en-us lang=en-us><head><script defer language=javascript type=text/javascript src=/js/bundle.min.11d62625e7495f8147fccf5d08f37bded574a50c4508c235cc666848567d99ab.js></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=/favicon.png><title itemprop=name>Go Sang - Error Handling in Next.js With TypeScript</title><meta property="og:title" content="Go Sang - Error Handling in Next.js With TypeScript"><meta name=twitter:title content="Go Sang - Error Handling in Next.js With TypeScript"><meta itemprop=name content="Go Sang - Error Handling in Next.js With TypeScript"><meta name=application-name content="Go Sang - Error Handling in Next.js With TypeScript"><meta property="og:site_name" content><meta name=description content><meta itemprop=description content><meta property="og:description" content><meta name=twitter:description content><base href=https://gosang.github.io/posts/react/error-handling-in-nextjs-with-typescript/><link rel=canonical href=https://gosang.github.io/posts/react/error-handling-in-nextjs-with-typescript/ itemprop=url><meta name=url content="https://gosang.github.io/posts/react/error-handling-in-nextjs-with-typescript/"><meta name=twitter:url content="https://gosang.github.io/posts/react/error-handling-in-nextjs-with-typescript/"><meta property="og:url" content="https://gosang.github.io/posts/react/error-handling-in-nextjs-with-typescript/"><meta property="og:updated_time" content="26001-26-08T134:35:25Z"><link rel=sitemap type=application/xml title=Sitemap href=https://gosang.github.io/sitemap.xml><meta name=robots content="index,follow"><meta name=googlebot content="index,follow"><meta name=twitter:site content><meta name=twitter:creator content><meta property="fb:admins" content><meta name=apple-mobile-web-app-title content><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="black"><meta property="og:type" content="article"><meta property="article:publisher" content><meta property="og:article:published_time" content="26001-26-08T134:35:25Z"><meta property="article:published_time" content="26001-26-08T134:35:25Z"><script defer type=application/ld+json>{"@context":"http://schema.org","@type":"Article","headline":"Error Handling in Next.js With TypeScript","author":{"@type":"Person","name":"https:\/\/github.com\/gosang"},"datePublished":"2025-01-26","description":"","wordCount":"909","mainEntityOfPage":"True","dateModified":"2025-01-26","image":{"@type":"imageObject","url":""},"publisher":{"@type":"Organization","name":"","logo":{"@type":"imageObject","url":""}}}</script><meta name=generator content="Hugo 0.119.0"><link type=text/css rel=stylesheet href=/css/bundle.min.178e339ccb9acabffeebf9adbb0bb23c1ec0b72a2a50edee18a5007d4d5a68aa.css><style>body{--sidebar-bg-color:#202020;--sidebar-img-border-color:#515151;--sidebar-p-color:#909090;--sidebar-h1-color:#FFF;--sidebar-a-color:#FFF;--sidebar-socials-color:#FFF;--text-color:#222;--bkg-color:#FAF9F6;--post-title-color:#303030;--list-color:#5a5a5a;--link-color:#268bd2;--date-color:#515151;--table-border-color:#E5E5E5;--table-stripe-color:#F9F9F9;--code-color:#bf616a;--code-background-color:#E5E5E5;--moon-sun-color:#FFF;--moon-sun-background-color:#515151}body.dark-theme{--text-color:#eee;--bkg-color:#121212;--post-title-color:#DBE2E9;--list-color:#9d9d9d;--link-color:#268bd2;--date-color:#9a9a9a;--table-border-color:#515151;--table-stripe-color:#202020;--code-color:#ff7f7f;--code-background-color:#393D47}body{background-color:var(--bkg-color)}</style></head><body><div class=wrapper><aside class=sidebar><div class="container sidebar-sticky"><div class=light-dark align=right><button class=btn-light-dark title="Toggle light/dark mode"><svg class="moon" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16"><path fill="currentcolor" d="M6 .278a.768.768.0 01.08.858 7.208 7.208.0 00-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527.0 1.04-.055 1.533-.16a.787.787.0 01.81.316.733.733.0 01-.031.893A8.349 8.349.0 018.344 16C3.734 16 0 12.286.0 7.71.0 4.266 2.114 1.312 5.124.06A.752.752.0 016 .278z"/></svg><svg class="sun" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16"><path fill="currentcolor" d="M8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 0zm0 13a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 13zm8-5a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2a.5.5.0 01.5.5zM3 8a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2A.5.5.0 013 8zm10.657-5.657a.5.5.0 010 .707l-1.414 1.415a.5.5.0 11-.707-.708l1.414-1.414a.5.5.0 01.707.0zm-9.193 9.193a.5.5.0 010 .707L3.05 13.657a.5.5.0 01-.707-.707l1.414-1.414a.5.5.0 01.707.0zm9.193 2.121a.5.5.0 01-.707.0l-1.414-1.414a.5.5.0 01.707-.707l1.414 1.414a.5.5.0 010 .707zM4.464 4.465a.5.5.0 01-.707.0L2.343 3.05a.5.5.0 11.707-.707l1.414 1.414a.5.5.0 010 .708z"/></svg></button></div><div class=sidebar-about><h1 class=brand><a href=https://gosang.github.io/><h1>Go Sang</h1></a></h1><p class=lead>Learning about technology.</p></div><nav><ul class=sidebar-nav><li class=heading><a href=/posts/>Posts</a></li><li class=sub-heading>Recent</li><li class=bullet><a href=https://gosang.github.io/posts/ai/retrieval-augmented-generation-architecture-patterns/>Retrieval Augmented Generation Architecture Patterns</a></li><li class=bullet><a href=https://gosang.github.io/posts/dotnet/implementing-range-based-pagination-with-mongodb-csharp-driver-in-asp-dotnet-core/>Implementing Range-Based Pagination with MongoDB C# Driver in ASP.NET Core 8</a></li><li class=bullet><a href=https://gosang.github.io/posts/dotnet/implementing-pagination-with-mongodb-csharp-driver-in-asp-dotnet-core/>Implementing Pagination with MongoDB C# Driver in ASP.NET Core 8</a></li><li class=bullet><a href=https://gosang.github.io/posts/react/zustand-redux-context-choosing-the-right-state-management-solution/>Zustand, Redux and Context: Choosing the Right State Management Solution</a></li><li class=bullet><a href=https://gosang.github.io/posts/react/javascript-security-risks-and-best-practices-for-mitigation/>JavaScript Security Risks and Best Practices for Mitigation</a></li></ul></nav><a target=_blank class=social title=GitHub href=https://github.com/gosang><svg xmlns="http://www.w3.org/2000/svg" width="1.2em" height="1.2em" viewBox="-2 -2 24 24"><path fill="currentcolor" d="M18.88 1.099C18.147.366 17.265.0 16.233.0H3.746C2.714.0 1.832.366 1.099 1.099.366 1.832.0 2.714.0 3.746v12.487c0 1.032.366 1.914 1.099 2.647.733.733 1.615 1.099 2.647 1.099H6.66c.19.0.333-.007.429-.02a.504.504.0 00.286-.169c.095-.1.143-.245.143-.435l-.007-.885c-.004-.564-.006-1.01-.006-1.34l-.3.052c-.19.035-.43.05-.721.046a5.555 5.555.0 01-.904-.091 2.026 2.026.0 01-.872-.39 1.651 1.651.0 01-.572-.8l-.13-.3a3.25 3.25.0 00-.41-.663c-.186-.243-.375-.407-.566-.494l-.09-.065a.956.956.0 01-.17-.156.723.723.0 01-.117-.182c-.026-.061-.004-.111.065-.15.07-.04.195-.059.378-.059l.26.04c.173.034.388.138.643.311a2.1 2.1.0 01.631.677c.2.355.44.626.722.813.282.186.566.28.852.28.286.0.533-.022.742-.065a2.59 2.59.0 00.585-.196c.078-.58.29-1.028.637-1.34a8.907 8.907.0 01-1.333-.234 5.314 5.314.0 01-1.223-.507 3.5 3.5.0 01-1.047-.872c-.277-.347-.505-.802-.683-1.365-.177-.564-.266-1.215-.266-1.952.0-1.049.342-1.942 1.027-2.68-.32-.788-.29-1.673.091-2.652.252-.079.625-.02 1.119.175.494.195.856.362 1.086.5.23.14.414.257.553.352a9.233 9.233.0 012.497-.338c.859.0 1.691.113 2.498.338l.494-.312a6.997 6.997.0 011.197-.572c.46-.174.81-.221 1.054-.143.39.98.424 1.864.103 2.653.685.737 1.028 1.63 1.028 2.68.0.737-.089 1.39-.267 1.957-.177.568-.407 1.023-.689 1.366a3.65 3.65.0 01-1.053.865c-.42.234-.828.403-1.223.507a8.9 8.9.0 01-1.333.235c.45.39.676 1.005.676 1.846v3.11c0 .147.021.266.065.357a.36.36.0 00.208.189c.096.034.18.056.254.064.074.01.18.013.318.013h2.914c1.032.0 1.914-.366 2.647-1.099.732-.732 1.099-1.615 1.099-2.647V3.746c0-1.032-.367-1.914-1.1-2.647z"/></svg></a><a target=_blank class=social title="RSS Feed" href=https://gosang.github.io//posts/index.xml><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1.2em" viewBox="0 0 1280 1280"><g transform="translate(0.000000,1280.000000) scale(0.100000,-0.100000)" fill="currentcolor"><path d="M2295 11929c-284-12-642-45-707-65-17-5-18-63-18-1039 0-569 4-1036 8-1039 5-3 74 6 153 19 510 86 1168 95 1789 25 1348-153 2602-677 3670-1531 385-308 820-744 1126-1129 842-1060 1362-2313 1514-3650 70-621 61-1279-25-1789-13-79-22-148-19-153 3-4 471-8 1039-8h1035l5 23c51 225 85 942 67 1419-23 605-77 1044-198 1617-294 14e2-927 2734-1823 3846-1043 1295-2364 2259-3909 2854-1158 447-2451 656-3707 6e2z"/><path d="M2255 7845c-269-25-620-81-667-106-17-9-18-55-18-899 0-706 3-890 13-890 6 0 66 18 132 41 130 44 288 79 467 105 154 21 577 30 749 15 1207-107 2267-823 2814-1902 166-327 268-637 330-1001 38-227 48-384 42-662-8-348-44-590-126-831-23-66-41-126-41-132 0-10 184-13 890-13 844 0 890 1 899 18 27 50 88 452 110 725 14 162 14 624 1 782-59 703-233 1323-545 1945-481 956-1313 1788-2270 2268-620 310-1239 483-1940 542-165 14-669 10-840-5z"/><path d="M2519 3815c-391-66-725-336-868-703-79-201-96-462-45-677 83-344 338-641 666-774 116-47 205-69 330-80 412-39 811 153 1040 5e2 193 292 240 648 128 981-135 403-492 699-914 757-1e2 14-241 12-337-4z"/></g></svg></a><p class=footnote>powered by <a target=_blank href=https://gohugo.io>Hugo</a> | themed with <a target=_blank href=https://github.com/lukeorth/poison>poison</a><br>&copy; 2025 . All rights reserved.</p></div></aside><main class="content container"><div class=post><div class=info><h1 class=post-title><a href=https://gosang.github.io/posts/react/error-handling-in-nextjs-with-typescript/>Error Handling in Next.js With TypeScript</a></h1><time datetime=2025-01-26T20:34:35Z class=post-date>January 26, 2025</time><ul class=tags><li class="tag-Error handling"><a href=https://gosang.github.io/tags/error-handling>Error handling</a></li><li class=tag-Next.js><a href=https://gosang.github.io/tags/next.js>Next.js</a></li></ul></div><p>Error handling is a critical aspect of building robust and maintainable web applications. In the context of Next.js, a powerful React framework, and TypeScript, a typed superset of JavaScript, error handling is even more crucial. Combining Next.js with TypeScript allows developers to catch errors at compile time, but runtime errors and exceptions still need careful handling. This blog explores the best practices for error handling in Next.js with TypeScript, providing actionable insights and detailed code samples.</p><h1 id=what-is-error-handling-in-nextjs-with-typescript>What is Error Handling in Next.js with TypeScript?</h1><p>Error handling in Next.js involves identifying, managing, and resolving errors that occur during the application&rsquo;s lifecycle. With TypeScript, the process becomes safer because static type-checking ensures that many potential errors are caught during development. However, runtime errors, such as API failures or unexpected user inputs, still require structured handling to ensure a seamless user experience.</p><h2 id=why-it-matters>Why It Matters:</h2><ul><li><p><strong>User Experience</strong>: A poorly handled error can lead to a broken interface or an incomplete user journey.</p></li><li><p><strong>Maintainability</strong>: Structured error handling ensures the codebase remains clean and manageable.</p></li><li><p><strong>Scalability</strong>: Proper practices reduce the risk of unforeseen issues as the application grows.</p></li></ul><h1 id=key-concepts-of-error-handling-in-nextjs>Key Concepts of Error Handling in Next.js</h1><ul><li><p><strong>Compile-Time vs. Runtime Errors</strong>:</p><ul><li>Compile-time errors are caught by TypeScript during development.</li><li>Runtime errors occur during application execution and must be handled programmatically.</li></ul></li><li><p>Types of Errors in Next.js:</p><ul><li><p><strong>Server-Side Errors</strong>: Occur during data fetching or server-side rendering (SSR).</p></li><li><p><strong>Client-Side Errors</strong>: Occur in the browser during user interactions.</p></li><li><p><strong>API Errors</strong>: Errors returned by third-party or internal APIs.</p></li></ul></li><li><p><strong>Error Boundaries</strong>: React&rsquo;s mechanism for catching errors during rendering on the client side.</p></li><li><p><strong>Next.js Error Pages</strong>: Built-in support for custom error pages (e.g., <code>404.js</code> and <code>500.js</code>).</p></li></ul><h1 id=best-practices-for-error-handling-in-nextjs-with-typescript>Best Practices for Error Handling in Next.js with TypeScript</h1><h2 id=1-static-typing-with-typescript>1. Static Typing with TypeScript</h2><p>Static typing is the foundation of error prevention. By using TypeScript, you can:</p><ul><li><p>Define types for your data and functions.</p></li><li><p>Reduce runtime errors due to type mismatches.</p></li></ul><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>User</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>name</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>async</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>fetchUser</span>(<span style=color:#a6e22e>userId</span>: <span style=color:#66d9ef>string</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>Promise</span>&lt;<span style=color:#f92672>User</span>&gt; {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>response</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>fetch</span>(<span style=color:#e6db74>`/api/user/</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>userId</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>ok</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> Error(<span style=color:#e6db74>&#34;Failed to fetch user&#34;</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>json</span>();
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>In this example:</p><ul><li><p>The User type defines the expected structure of user data.</p></li><li><p>TypeScript ensures that the function adheres to this structure.</p></li></ul><h2 id=2-centralized-error-handling>2. Centralized Error Handling</h2><p>Consolidate error-handling logic to maintain consistency and reduce redundancy.</p><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#75715e>// utils/errorHandler.ts
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>AppError</span> <span style=color:#66d9ef>extends</span> Error {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>constructor</span>(<span style=color:#66d9ef>public</span> <span style=color:#a6e22e>message</span>: <span style=color:#66d9ef>string</span>, <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>statusCode</span>: <span style=color:#66d9ef>number</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>super</span>(<span style=color:#a6e22e>message</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;AppError&#34;</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>handleError</span>(<span style=color:#a6e22e>err</span>: <span style=color:#66d9ef>unknown</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>err</span> <span style=color:#66d9ef>instanceof</span> <span style=color:#a6e22e>AppError</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>`Error: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>err</span>.<span style=color:#a6e22e>message</span><span style=color:#e6db74>}</span><span style=color:#e6db74> (Status: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>err</span>.<span style=color:#a6e22e>statusCode</span><span style=color:#e6db74>}</span><span style=color:#e6db74>)`</span>);
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#34;An unknown error occurred&#34;</span>, <span style=color:#a6e22e>err</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Usage:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>user</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>fetchUser</span>(<span style=color:#e6db74>&#34;123&#34;</span>);
</span></span><span style=display:flex><span>} <span style=color:#66d9ef>catch</span> (<span style=color:#a6e22e>err</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>handleError</span>(<span style=color:#a6e22e>err</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>In this example code:</p><ul><li><p>Custom <code>AppError</code> class standardizes error objects.</p></li><li><p>Centralized <code>handleError</code> function ensures consistency in error logging.</p></li></ul><h2 id=3-error-boundaries-for-react-components>3. Error Boundaries for React Components</h2><p>React error boundaries catch rendering errors but only for child components.</p><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>React</span> <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#34;react&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ErrorBoundary</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>React</span>.<span style=color:#a6e22e>Component</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>state</span> <span style=color:#f92672>=</span> { <span style=color:#a6e22e>hasError</span>: <span style=color:#66d9ef>false</span> };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>static</span> <span style=color:#a6e22e>getDerivedStateFromError</span>()<span style=color:#f92672>:</span> { <span style=color:#a6e22e>hasError</span>: <span style=color:#66d9ef>boolean</span> } {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> { <span style=color:#a6e22e>hasError</span>: <span style=color:#66d9ef>true</span> };
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>componentDidCatch</span>(<span style=color:#a6e22e>error</span>: <span style=color:#66d9ef>Error</span>, <span style=color:#a6e22e>errorInfo</span>: <span style=color:#66d9ef>React.ErrorInfo</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#34;Error caught by ErrorBoundary:&#34;</span>, <span style=color:#a6e22e>error</span>, <span style=color:#a6e22e>errorInfo</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>render() {</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>state</span>.<span style=color:#a6e22e>hasError</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>return</span> &lt;<span style=color:#f92672>h1</span>&gt;<span style=color:#a6e22e>Something</span> <span style=color:#a6e22e>went</span> <span style=color:#a6e22e>wrong</span>.&lt;/<span style=color:#f92672>h1</span>&gt;;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>props</span>.<span style=color:#a6e22e>children</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>ErrorBoundary</span>;
</span></span></code></pre></div><p>Usage:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span>&lt;<span style=color:#f92672>ErrorBoundary</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>MyComponent</span> /&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>ErrorBoundary</span>&gt;
</span></span></code></pre></div><h2 id=4-custom-error-pages>4. Custom Error Pages</h2><p>Next.js supports custom <code>404.js</code> and <code>500.js</code> pages.</p><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#75715e>// pages/404.tsx
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>Custom404() {</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> &lt;<span style=color:#f92672>h1</span>&gt;<span style=color:#ae81ff>404</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>Page</span> <span style=color:#a6e22e>Not</span> <span style=color:#a6e22e>Found</span>&lt;/<span style=color:#f92672>h1</span>&gt;;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// pages/500.tsx
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>Custom500() {</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> &lt;<span style=color:#f92672>h1</span>&gt;<span style=color:#ae81ff>500</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>Server</span><span style=color:#f92672>-</span><span style=color:#a6e22e>Side</span> Error&lt;/<span style=color:#f92672>h1</span>&gt;;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>These pages provide a user-friendly experience for errors.</p><h2 id=5-error-handling-in-data-fetching>5. Error Handling in Data Fetching</h2><p>For server-side or static data fetching, use structured error handling.</p><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#75715e>// pages/api/user/[id].ts
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>NextApiRequest</span>, <span style=color:#a6e22e>NextApiResponse</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#34;next&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#66d9ef>async</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>handler</span>(
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>req</span>: <span style=color:#66d9ef>NextApiRequest</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>res</span>: <span style=color:#66d9ef>NextApiResponse</span>
</span></span><span style=display:flex><span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> { <span style=color:#a6e22e>id</span> } <span style=color:#f92672>=</span> <span style=color:#a6e22e>req</span>.<span style=color:#a6e22e>query</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>id</span>) <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>AppError</span>(<span style=color:#e6db74>&#34;User ID is required&#34;</span>, <span style=color:#ae81ff>400</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>user</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>getUserFromDatabase</span>(<span style=color:#a6e22e>id</span> <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>string</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>user</span>) <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>AppError</span>(<span style=color:#e6db74>&#34;User not found&#34;</span>, <span style=color:#ae81ff>404</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>status</span>(<span style=color:#ae81ff>200</span>).<span style=color:#a6e22e>json</span>(<span style=color:#a6e22e>user</span>);
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>catch</span> (<span style=color:#a6e22e>err</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>handleError</span>(<span style=color:#a6e22e>err</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>res</span>
</span></span><span style=display:flex><span>      .<span style=color:#a6e22e>status</span>(<span style=color:#a6e22e>err</span> <span style=color:#66d9ef>instanceof</span> <span style=color:#a6e22e>AppError</span> <span style=color:#f92672>?</span> <span style=color:#a6e22e>err.statusCode</span> : <span style=color:#66d9ef>500</span>)
</span></span><span style=display:flex><span>      .<span style=color:#a6e22e>json</span>({ <span style=color:#a6e22e>message</span>: <span style=color:#66d9ef>err.message</span> });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Validate inputs and handle errors in the API route.</p><h2 id=6-use-nextjs-middleware-for-validation>6. Use Next.js Middleware for Validation</h2><p>Middleware can handle errors like unauthorized access globally.</p><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#75715e>// middleware.ts
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>NextResponse</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#34;next/server&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>middleware</span>(<span style=color:#a6e22e>req</span>: <span style=color:#66d9ef>Request</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>req</span>.<span style=color:#a6e22e>headers</span>.<span style=color:#66d9ef>get</span>(<span style=color:#e6db74>&#34;Authorization&#34;</span>)) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>NextResponse</span>(<span style=color:#e6db74>&#34;Unauthorized&#34;</span>, { <span style=color:#a6e22e>status</span>: <span style=color:#66d9ef>401</span> });
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>In this example, the Middleware ensures error handling is centralized for authentication.</p><h2 id=7-typescript-specific-enhancements>7. TypeScript-Specific Enhancements</h2><ul><li>Define clear types and interfaces to improve error readability.</li><li>Use enums for handling predictable error types.</li></ul><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>enum</span> <span style=color:#a6e22e>ErrorTypes</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>NOT_FOUND</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;NOT_FOUND&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>SERVER_ERROR</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;SERVER_ERROR&#34;</span>,
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>CustomError</span> <span style=color:#66d9ef>extends</span> Error {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>type</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>ErrorTypes</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h1 id=advantages-and-disadvantages-of-error-handling-in-nextjs-with-typescript>Advantages and Disadvantages of Error Handling in Next.js with TypeScript</h1><h2 id=advantages>Advantages:</h2><ul><li><p><strong>Type Safety</strong>: Prevents many common bugs during development.</p></li><li><p><strong>Scalability</strong>: Centralized and structured handling makes it easier to manage large applications.</p></li><li><p><strong>Improved Debugging</strong>: Detailed error messages help developers quickly identify issues.</p></li></ul><h2 id=disadvantages>Disadvantages:</h2><ul><li><p><strong>Complexity</strong>: Setting up a robust error-handling system requires effort.</p></li><li><p><strong>Performance Overhead</strong>: Excessive error handling can impact runtime performance if not optimized.</p></li></ul><h1 id=issues-and-considerations>Issues and Considerations</h1><ul><li><p><strong>User Experience</strong>: Ensure errors are user-friendly and do not expose sensitive information.</p></li><li><p><strong>Global Error Logging</strong>: Use tools like Sentry for centralized error reporting.</p></li><li><p><strong>Testing</strong>: Validate error handling through unit tests and integration tests.</p></li></ul><p>By adopting these best practices, you can build a robust error-handling system in your Next.js application with TypeScript, ensuring better maintainability, scalability, and user experience.</p><h1 id=references>References</h1><ul><li><p><a href=https://nextjs.org/docs target=_blank>Next.js Documentation</a></p></li><li><p><a href=https://www.typescriptlang.org/docs/handbook/intro.html target=_blank>TypeScript Handbook</a></p></li><li><p><a href=https://legacy.reactjs.org/docs/error-boundaries.html target=_blank>React Error Boundaries</a></p></li></ul><hr><div class=footer><a class=previous-post href="https://gosang.github.io/posts/react/callback-promise-async-await-in-javascript/?ref=footer"><span style=font-weight:700>« Previous</span><br>Callback Promise Async Await in Javascript</a><div class=next-post><a href="https://gosang.github.io/posts/react/understanding-memory-leaks-in-javascript-and-how-to-prevent-them/?ref=footer"><span style=font-weight:700>Next »</span><br>Understanding Memory Leaks in JavaScript and How...</a></div></div></div></main><div class=article-toc><div class=toc-wrapper><h4 id=contents></h4><nav id=TableOfContents><ul><li><a href=#why-it-matters>Why It Matters:</a></li></ul><ul><li><a href=#1-static-typing-with-typescript>1. Static Typing with TypeScript</a></li><li><a href=#2-centralized-error-handling>2. Centralized Error Handling</a></li><li><a href=#3-error-boundaries-for-react-components>3. Error Boundaries for React Components</a></li><li><a href=#4-custom-error-pages>4. Custom Error Pages</a></li><li><a href=#5-error-handling-in-data-fetching>5. Error Handling in Data Fetching</a></li><li><a href=#6-use-nextjs-middleware-for-validation>6. Use Next.js Middleware for Validation</a></li><li><a href=#7-typescript-specific-enhancements>7. TypeScript-Specific Enhancements</a></li></ul><ul><li><a href=#advantages>Advantages:</a></li><li><a href=#disadvantages>Disadvantages:</a></li></ul></nav></div></div></div></body></html>